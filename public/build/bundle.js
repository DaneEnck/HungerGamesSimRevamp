var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function r(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let s,i;function g(e,t){return s||(s=document.createElement("a")),s.href=t,e===s.href}function l(e,t){e.appendChild(t)}function u(e,t,n){e.insertBefore(t,n||null)}function c(e){e.parentNode&&e.parentNode.removeChild(e)}function m(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function h(e){return document.createElement(e)}function d(e){return document.createTextNode(e)}function f(){return d(" ")}function p(){return d("")}function b(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function C(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function w(e,t){t=""+t,e.data!==t&&(e.data=t)}function N(e,t){e.value=null==t?"":t}function y(e,t,n,o){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function I(e,t,n){for(let n=0;n<e.options.length;n+=1){const o=e.options[n];if(o.__value===t)return void(o.selected=!0)}n&&void 0===t||(e.selectedIndex=-1)}function _(e){i=e}const v=[],k=[];let M=[];const x=[],E=Promise.resolve();let P=!1;function S(e){M.push(e)}function O(e){x.push(e)}const D=new Set;let R=0;function A(){if(0!==R)return;const e=i;do{try{for(;R<v.length;){const e=v[R];R++,_(e),W(e.$$)}}catch(e){throw v.length=0,R=0,e}for(_(null),v.length=0,R=0;k.length;)k.pop()();for(let e=0;e<M.length;e+=1){const t=M[e];D.has(t)||(D.add(t),t())}M.length=0}while(v.length);for(;x.length;)x.pop()();P=!1,D.clear(),_(e)}function W(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(S)}}const T=new Set;let $;function U(e,t){e&&e.i&&(T.delete(e),e.i(t))}function j(e,t,n,o){if(e&&e.o){if(T.has(e))return;T.add(e),$.c.push(()=>{T.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}else o&&o()}function H(e,t,n){const o=e.$$.props[t];void 0!==o&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function L(e){e&&e.c()}function F(e,n,a,s){const{fragment:i,after_update:g}=e.$$;i&&i.m(n,a),s||S(()=>{const n=e.$$.on_mount.map(t).filter(r);e.$$.on_destroy?e.$$.on_destroy.push(...n):o(n),e.$$.on_mount=[]}),g.forEach(S)}function z(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];M.forEach(o=>-1===e.indexOf(o)?t.push(o):n.push(o)),n.forEach(e=>e()),M=t}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function G(e,t){-1===e.$$.dirty[0]&&(v.push(e),P||(P=!0,E.then(A)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function q(t,r,a,s,g,l,u,m=[-1]){const h=i;_(t);const d=t.$$={fragment:null,ctx:[],props:l,update:e,not_equal:g,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(h?h.$$.context:[])),callbacks:n(),dirty:m,skip_bound:!1,root:r.target||h.$$.root};u&&u(d.root);let f=!1;if(d.ctx=a?a(t,r.props||{},(e,n,...o)=>{const r=o.length?o[0]:n;return d.ctx&&g(d.ctx[e],d.ctx[e]=r)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](r),f&&G(t,e)),n}):[],d.update(),f=!0,o(d.before_update),d.fragment=!!s&&s(d.ctx),r.target){if(r.hydrate){const e=function(e){return Array.from(e.childNodes)}(r.target);d.fragment&&d.fragment.l(e),e.forEach(c)}else d.fragment&&d.fragment.c();r.intro&&U(t.$$.fragment),F(t,r.target,r.anchor,r.customElement),A()}_(h)}class K{$destroy(){z(this,1),this.$destroy=e}$on(t,n){if(!r(n))return e;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const e=o.indexOf(n);-1!==e&&o.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}class B{constructor(e,t,n,o,r,a,s=function(){return[""]}){this.name=e,this.hitadd=t,this.blockadd=n,this.hitverb=o,this.damcap=r,this.misfireChance=a,this.misfire=s}getName(){return this.name}getHitVerb(){return this.hitverb}getHitAdd(){return this.hitadd}getBlockAdd(){return this.blockadd}getDamCap(){return this.damcap}getMisfireChance(){return this.misfireChance}getMisfire(){return this.misfire}}class Y extends B{constructor(e,t,n,o,r,a,s,i=function(){return[""]}){super(e,t,n,o,r,s,i),this.uses=a}getUses(){return this.uses}downUses(e){this.uses-=e}}function Q(e){return new Y(e.getName(),e.getHitAdd(),e.getBlockAdd(),e.getHitVerb(),e.getDamCap(),e.getUses(),e.getMisfireChance(),e.getMisfire())}let V=[new B("sword",.25,0,"slashes",0,0),new B("spear",.2,.1,"stabs",0,0),new B("trident",.25,.1,"stabs",0,0),new B("sickle",.2,0,"slices",0,0),new B("mace",.2,0,"bashes",0,0),new B("pair of sais",.2,.05,"stabs",0,0),new B("shield",.1,.2,"bashes",2,0),new B("hatchet",.2,0,"chops",0,0),new B("axe",.25,0,"chops",0,0),new B("dagger",.15,0,"stabs",0,0),new B("bow",.2,0,"shoots",0,0)];const J=[new Y("explosive",.6,0,"explodes",0,1,.2,function(e,t,n){return Math.random()<.5?(e.downCond(99),[e.getName()+" tries to throw "+e.getPospronoun()+" explosive at "+t.getName()+", but it explodes in "+e.getPospronoun()+" hands, killing "+e.getObjpronoun()+" instantly!"]):(e.downCond(2),t.downCond(2),[e.getName()+" tries to throw "+e.getPospronoun()+" explosive at "+t.getName()+", but it lands short and explodes, injuring both of them moderately!"])})],Z=[new B("wooden spear",.1,.05,"stabs",0,0),new B("wooden club",.1,0,"bashes",3,0),new B("large rock",.05,0,"bashes",2,0)];class X{constructor(e,t,n){this.creationString="";let o=[];for(let t=0;t<e.length;t++){let n=e[t];if(n instanceof X)for(let e=0;e<n.getConts().length;e++)o.push(n.getConts()[e]);else o.push(n)}this.ppl=o,this.items=t,this.creationString=n,this.isInGroup=!1}isGroup(){return!0}getName(){if(this.ppl.length<=1)return this.ppl[0].getName();if(2==this.ppl.length)return this.ppl[0].getName()+" and "+this.ppl[1].getName();{let e="";for(let t=0;t<this.ppl.length-1;t++)e+=this.ppl[t].getName()+", ";return e+="and "+this.ppl[this.ppl.length-1].getName(),e}}getConts(){return this.ppl}getItems(){return this.items}addItem(e){this.items.push(e)}loseItem(e){return this.items.length>0&&(this.items.splice(e,1),!0)}newMember(e){this.ppl.push(e)}loseMember(e){this.ppl[e].setIsInGroup(!1),this.ppl.splice(e,1)}setString(e){this.creationString=e}getString(){return this.creationString}setIsInGroup(e){this.isInGroup=e}getIsInGroup(){return this.isInGroup}purge(){for(let e=0;e<this.ppl.length;e++)0==this.ppl[e].getCond()&&(this.ppl.splice(e,1),e--)}verbSwitchPro(e,t){return t}verbSwitchName(e,t){return t}getPronoun(){return"they"}getObjpronoun(){return"them"}getPospronoun(){return"their"}getImage(){let e=[];for(let t=0;t<this.ppl.length;t++)e.push(this.ppl[t].getImage()[0]);return e}getCond(){return console.log("ERROR: getCond called on group"),re.HEALTHY}loseWeapon(){console.log("ERROR: loseWeapon called on group")}}class ee{constructor(e,t,n){this.name=e,this.uses=t,this.event=n}getName(){return this.name}getUses(){return this.uses}getEvent(){return this.event}upUses(e){this.uses+=e}downUses(e){this.uses-=e}}let te=[new ee("medkit",1,function(e,t){if(e instanceof ae)return e.getCond()<4?(e.upCond(2),t.downUses(1),{images:e.getImage(),main:e.getName()+" uses a medkit and is now "+e.getCondName(),combat:[]}):{images:[],main:"false",combat:[]};{let n,o=0;for(let t=1;t<e.getConts().length;t++)e.getConts()[t].getCond()<e.getConts()[o].getCond()&&(o=t);if(e.getConts()[o].getCond()<4){do{n=Math.floor(Math.random()*e.getConts().length)}while(o==n);return e.getConts()[o].upCond(2),t.downUses(1),{images:e.getImage(),main:e.getConts()[n].getName()+" uses a medkit on "+e.getConts()[o].getName()+". "+e.getConts()[o].getPronoun()+" is now "+e.getConts()[o].getCondName(),combat:[]}}return{images:[],main:"false",combat:[]}}}),new ee("bottle of clean water",1,function(e,t){if(e instanceof ae)return e.getCond()<4?(e.upCond(1),t.downUses(1),{images:e.getImage(),main:e.getName()+" drinks some of "+e.getPospronoun()+" water and is now "+e.getCondName(),combat:[]}):{images:[],main:"false",combat:[]};{let n=0;for(let t=1;t<e.getConts().length;t++)e.getConts()[t].getCond()<e.getConts()[n].getCond()&&(n=t);return e.getConts()[n].getCond()<4?(e.getConts()[n].upCond(1),t.downUses(1),{images:e.getImage(),main:e.getConts()[n].getName()+" drinks some of the group's water and is now "+e.getConts()[n].getCondName(),combat:[]}):{images:[],main:"false",combat:[]}}}),new ee("food ration",1,function(e,t){if(e instanceof ae)return e.getCond()<4?(e.upCond(1),t.downUses(1),{images:e.getImage(),main:e.getName()+" eats some of "+e.getPospronoun()+" food ration and is now "+e.getCondName(),combat:[]}):{images:[],main:"false",combat:[]};{let n=0;for(let t=1;t<e.getConts().length;t++)e.getConts()[t].getCond()<e.getConts()[n].getCond()&&(n=t);return e.getConts()[n].getCond()<4?(e.getConts()[n].upCond(1),t.downUses(1),{images:e.getImage(),main:e.getConts()[n].getName()+" eats some of the group's fresh food and is now "+e.getConts()[n].getCondName(),combat:[]}):{images:[],main:"false",combat:[]}}})];function ne(e){return new ee(e.getName(),e.getUses(),e.getEvent())}const oe=[new ee("meat",1,function(e,t){if(e instanceof ae)return e.getCond()<4?(e.upCond(1),t.downUses(1),{images:e.getImage(),main:e.getName()+" eats some meat and is now "+e.getCondName(),combat:[]}):{images:[],main:"false",combat:[]};{let n=0;for(let t=1;t<e.getConts().length;t++)e.getConts()[t].getCond()<e.getConts()[n].getCond()&&(n=t);return e.getConts()[n].getCond()<4?(e.getConts()[n].upCond(1),t.downUses(1),{images:e.getImage(),main:e.getConts()[n].getName()+" eats some meat and is now "+e.getConts()[n].getCondName(),combat:[]}):{images:[],main:"false",combat:[]}}}),new ee("fish",1,function(e,t){if(e instanceof ae)return e.getCond()<4?(e.upCond(1),t.downUses(1),{images:e.getImage(),main:e.getName()+" eats some fish and is now "+e.getCondName(),combat:[]}):{images:[],main:"false",combat:[]};{let n=0;for(let t=1;t<e.getConts().length;t++)e.getConts()[t].getCond()<e.getConts()[n].getCond()&&(n=t);return e.getConts()[n].getCond()<4?(e.getConts()[n].upCond(1),t.downUses(1),{images:e.getImage(),main:e.getConts()[n].getName()+" eats some fish and is now "+e.getConts()[n].getCondName(),combat:[]}):{images:[],main:"false",combat:[]}}}),new ee("fruit",1,function(e,t){if(e instanceof ae)return e.getCond()<4?(e.upCond(1),t.downUses(1),{images:e.getImage(),main:e.getName()+" eats some fruit and is now "+e.getCondName(),combat:[]}):{images:[],main:"false",combat:[]};{let n=0;for(let t=1;t<e.getConts().length;t++)e.getConts()[t].getCond()<e.getConts()[n].getCond()&&(n=t);return e.getConts()[n].getCond()<4?(e.getConts()[n].upCond(1),t.downUses(1),{images:e.getImage(),main:e.getConts()[n].getName()+" eats some fruit and is now "+e.getConts()[n].getCondName(),combat:[]}):{images:[],main:"false",combat:[]}}}),new ee("berries",1,function(e,t){let n;if(e instanceof ae){if(e.getCond()<4){t.downUses(1);let o=Math.random();return o<.6?(e.upCond(1),n=e.getName()+" eats some berries and is now "+e.getCondName()):o<.9?(e.downCond(1),n=e.getName()+" eats some berries, but they're poisonous! "+e.getPronoun()+e.verbSwitchPro(" is "," are ")+" now "+e.getCondName()):(e.downCond(99),n=e.getName()+" eats some berries, but they're extremely poisonous, killing "+e.getObjpronoun()+" instantly!"),{images:e.getImage(),main:n,combat:[]}}return{images:[],main:"false",combat:[]}}{let o=0;for(let t=1;t<e.getConts().length;t++)e.getConts()[t].getCond()<e.getConts()[o].getCond()&&(o=t);if(e.getConts()[o].getCond()<4){t.downUses(1);let r=Math.random();return r<.6?(e.getConts()[o].upCond(1),n=e.getConts()[o].getName()+" eats some berries and is now "+e.getConts()[o].getCondName()):r<.9?(e.getConts()[o].downCond(1),n=e.getConts()[o].getName()+" eats some berries, but they're poisonous! "+e.getConts()[o].getPronoun()+e.getConts()[o].verbSwitchPro(" is "," are ")+" now "+e.getConts()[o].getCondName()):(e.getConts()[o].downCond(99),n=e.getConts()[o].getName()+" eats some berries, but they're extremely poisonous, killing "+e.getConts()[o].getObjpronoun()+" instantly!"),{images:e.getImage(),main:n,combat:[]}}return{images:[],main:"false",combat:[]}}})];var re;!function(e){e[e.DEAD=0]="DEAD",e[e.WOUND_HIGH=1]="WOUND_HIGH",e[e.WOUND_MEDIUM=2]="WOUND_MEDIUM",e[e.WOUND_LOW=3]="WOUND_LOW",e[e.HEALTHY=4]="HEALTHY"}(re||(re={}));class ae{constructor(e,t,n,o,r){this.bodylight=["ear","nose","hand","foot","finger","toe","cheek"],this.bodymed=["forearm","shin","thigh","calf","shoulder","hip","rib","jaw"],this.bodyheavy=["head","neck","guts","chest","face","back"],this.name=e,this.cond=re.HEALTHY,this.kills=0,this.pronoun=t,this.objpronoun=n,this.pospronoun=o,this.wep=new B("fists",0,0,"punches",2,0),this.consumWeps=[],this.items=[],this.isInGroup=!1,this.image=r,this.pronounCustomToggle=!1}getName(){return this.name}getCond(){return this.cond}getKills(){return this.kills}getPronoun(){return this.pronoun}getObjpronoun(){return this.objpronoun}getPospronoun(){return this.pospronoun}isGroup(){return!1}setName(e){this.name=e}setPronoun(e){this.pronoun=e}setObjPronoun(e){this.objpronoun=e}setPosPronoun(e){this.pospronoun=e}setCond(e){this.cond=e}upCond(e){this.cond+e>4?this.cond=4:this.cond+=e}downCond(e){this.cond-e<0?this.cond=0:this.cond-=e}setKills(e){this.kills=e}upKills(e){this.kills+=e}getCondName(){switch(this.cond){case re.DEAD:return"dead";case re.WOUND_HIGH:return"heavily wounded";case re.WOUND_MEDIUM:return"wounded";case re.WOUND_LOW:return"lightly wounded";case re.HEALTHY:return"healthy";default:return"error"}}getWeapon(){return this.wep}newWeapon(e){return e.getHitAdd()>this.wep.getHitAdd()&&(this.wep=e,!0)}getConsumWeps(){return this.consumWeps}newConsumWeapon(e){return e.getHitAdd()>this.wep.getHitAdd()&&(this.consumWeps.push(e),!0)}loseWeapon(){this.wep=new B("fists",0,0,"hits",2,0)}loseConsumWep(e){return this.consumWeps.length>0&&(this.consumWeps.splice(e,1),!0)}getItems(){return this.items}addItem(e){this.items.push(e)}loseItem(e){return this.items.length>0&&(this.items.splice(e,1),!0)}setIsInGroup(e){this.isInGroup=e}getIsInGroup(){return this.isInGroup}verbSwitchPro(e,t){return"they"==this.pronoun?t:e}verbSwitchName(e,t){return e}getString(){return"Error: getString called on a solo contestant"}setImage(e){this.image=e}getImage(){return[this.image]}getPronounCustomToggle(){return this.pronounCustomToggle}setPronounCustomToggle(e){this.pronounCustomToggle=e}}function se(e){return e.charAt(0).toUpperCase()+e.slice(1)}function ie(e,t){let n=[],o=[],r=[],a=[];r=e instanceof ae?[e]:e.getConts(),a=t instanceof ae?[t]:t.getConts();for(let e=0;e<r.length;e++){let t=-1;for(let n=0;n<a.length;n++)if(!o.includes(n)&&r[e].newWeapon(a[n].getWeapon())){t=n;break}-1!=t&&(n.push(r[e].getName()+" takes "+a[t].getName()+"'s "+a[t].getWeapon().getName()+"\n"),o.push(t))}for(;t.getItems().length>0;){let o=t.getItems().pop();e.addItem(o),n.push(e.getName()+e.verbSwitchName(" takes "," take ")+"a "+o.getName()+" from "+t.getName()+"\n")}for(let e=0;e<a.length;e++)for(let t=0;t<a[e].getConsumWeps().length;t++){let o=Math.floor(Math.random()*r.length);r[o].newConsumWeapon(a[e].getConsumWeps()[t]),n.push(r[o].getName()+r[o].verbSwitchName(" takes "," take ")+"a "+a[e].getConsumWeps()[t].getName()+" from "+a[e].getName()+"\n")}return n}let ge=[function(e,t){return e.getName()+" misses "+t.getName()+"'s "+t.bodylight[Math.floor(Math.random()*t.bodylight.length)]+" by an inch"},function(e,t){return"fists"==t.getWeapon().getName()?e.getName()+" "+e.getWeapon().getHitVerb()+" at "+t.getName()+", but "+t.getPronoun()+" catches "+e.getName()+"'s arm with "+t.getPospronoun()+" hands":e.getName()+" "+e.getWeapon().getHitVerb()+" at "+t.getName()+", but "+t.getPronoun()+" blocks the attack with "+t.getPospronoun()+" "+t.getWeapon().getName()},function(e,t){return t.getName()+" dodges out of the way of "+e.getName()+"'s attack"}];function le(e,t){let n=[];for(let o=0;o<e.length;o++)if(e[o].getCond()!=re.DEAD){let r,a,s=e[o],i=-1;if(s.getConsumWeps().length>0){a=s.getConsumWeps()[0];for(let e=1;e<s.getConsumWeps().length;e++)s.getConsumWeps()[e].getHitAdd()>a.getHitAdd()&&(a=s.getConsumWeps()[e],i=e)}else a=s.getWeapon();let g=0;do{r=t[Math.floor(Math.random()*t.length)],g++}while(r.getCond()==re.DEAD&&g<100);100==g&&console.log("ERROR: living target not found"),Math.random()<a.getMisfireChance()&&(n=n.concat(a.getMisfire()(s,r,a)));let l=Math.random()+a.getHitAdd()-r.getWeapon().getBlockAdd();if(l<.4)n.push(ge[Math.floor(Math.random()*ge.length)](s,r));else{let e="";e+=s.getName()+" "+a.getHitVerb()+" "+r.getName(),l<.6||1==a.getDamCap()?(e+=" in the "+r.bodylight[Math.floor(Math.random()*r.bodylight.length)]+" with "+s.getPospronoun()+" "+a.getName()+", injuring "+r.getObjpronoun()+" slightly\n",r.downCond(1)):l<.8||2==a.getDamCap()?(e+=" in the "+r.bodymed[Math.floor(Math.random()*r.bodymed.length)]+" with "+s.getPospronoun()+" "+a.getName()+", injuring "+r.getObjpronoun()+" moderately\n",r.downCond(2)):l<.9||3==a.getDamCap()?(e+=" in the "+r.bodyheavy[Math.floor(Math.random()*r.bodyheavy.length)]+" with "+s.getPospronoun()+" "+a.getName()+", injuring "+r.getObjpronoun()+" severely\n",r.downCond(3)):(e+=" in the "+r.bodyheavy[Math.floor(Math.random()*r.bodyheavy.length)]+" with "+s.getPospronoun()+" "+a.getName()+", killing "+r.getObjpronoun(),r.setCond(re.DEAD)),n.push(e)}a instanceof Y&&(a.downUses(1),a.getUses()<=0&&(s.loseConsumWep(i),n.push(s.getName()+" uses up "+s.getPospronoun()+" "+a.getName()+"\n"))),r.getCond()==re.DEAD&&(n.push(r.getName()+" is dead!\n"),s.upKills(1))}return n}function ue(e,t,n,o){let r=[];for(let a=0;a<o.length&&o[a].getCond()==re.DEAD;a++)if(a==o.length-1){r=r.concat(ie(e,t));for(let e=0;e<n.length;e++)r.push(n[e].getName()+" ends the fight "+n[e].getCondName()+"\n");return r.push(e.getName()+e.verbSwitchName(" wins "," win ")+"the fight."),r}return[]}function ce(e,t){let n,o,r=[],a=[],s=[];if(e instanceof ae)r.push(e.getName()+" begins the fight "+e.getCondName()),a=[e];else{for(let t=0;t<e.getConts().length;t++)r.push(e.getConts()[t].getName()+" begins the fight "+e.getConts()[t].getCondName());a=e.getConts()}if(t instanceof ae)r.push(t.getName()+" begins the fight "+t.getCondName()),s=[t];else{for(let e=0;e<t.getConts().length;e++)r.push(t.getConts()[e].getName()+" begins the fight "+t.getConts()[e].getCondName());s=t.getConts()}console.log(r);for(;;){if(r=r.concat(le(a,s)),n=ue(e,t,a,s),o=ue(t,e,s,a),n.length>0&&o.length>0)return r.push("All combatants died!"),r;if(n.length>0)return r=r.concat(n),r;if(o.length>0)return r=r.concat(o),r;if(r=r.concat(le(s,a)),n=ue(e,t,a,s),o=ue(t,e,s,a),n.length>0&&o.length>0)return r.push("All combatants died!"),r;if(n.length>0)return r=r.concat(n),r;if(o.length>0)return r=r.concat(o),r}return console.log("ERROR: combat loop exceeded 100 iterations"),r.push("ERROR: combat loop exited without returning"),r}let me=[function(e){let t=V[Math.floor(Math.random()*V.length)];return e.newWeapon(t)?{images:e.getImage(),main:e.getName()+" recieves a "+t.getName()+" from a sponsor",combat:[]}:{images:e.getImage(),main:e.getName()+" recieves a "+t.getName()+" from a sponsor, but keeps "+e.getPospronoun()+" current weapon",combat:[]}},function(e){let t=J[Math.floor(Math.random()*J.length)];return e.newConsumWeapon(Q(t))?{images:e.getImage(),main:e.getName()+" recieves a "+t.getName()+" from a sponsor",combat:[]}:{images:e.getImage(),main:e.getName()+" recieves a "+t.getName()+" from a sponsor, but "+e.getPospronoun()+" main weapon is better",combat:[]}},function(e){let t=te[Math.floor(Math.random()*te.length)];return e.addItem(ne(t)),{images:e.getImage(),main:e.getName()+" recieves a "+t.getName()+" from a sponsor",combat:[]}},function(e){let t=Math.random(),n=e.getName()+" goes hunting";return t<.33?n+=", but does not find anything":t<.66?n+=". "+se(e.getPronoun())+" "+e.verbSwitchPro("spots","spot")+" a squirrel, but it runs off before "+e.getPronoun()+" can get close":(n+=". "+se(e.getPronoun())+" "+e.verbSwitchPro("spots","spot")+" a squirrel and catch it successfully!",e.addItem(ne(oe[0]))),{images:e.getImage(),main:n,combat:[]}},function(e){let t=Math.random(),n=e.getName()+" tries to catch fish";return t<.75?n+=", but fails":("fists"==e.getWeapon().getName()?n+=". Amazingly, "+e.getPronoun()+e.verbSwitchPro(" grabs "," grab ")+"one with "+e.getPospronoun()+" bare hands!":n+=". Amazingly, "+e.getPronoun()+" "+e.getWeapon().getHitVerb()+" one with "+e.getPospronoun()+" "+e.getWeapon().getName()+"!",e.addItem(ne(oe[1]))),{images:e.getImage(),main:n,combat:[]}},function(e){return{images:e.getImage(),main:e.getName()+" questions "+e.getPospronoun()+" sanity",combat:[]}},function(e){return e.addItem(ne(oe[2])),{images:e.getImage(),main:e.getName()+" finds a fruit tree and collects some fruit",combat:[]}},function(e){return e.newWeapon(Z[0])?{images:e.getImage(),main:e.getName()+" crafts a wooden spear",combat:[]}:me[Math.floor(Math.random()*me.length)](e)},function(e){return{images:e.getImage(),main:e.getName()+" builds a fire",combat:[]}},function(e){let t=Math.random();return t<.5?{images:e.getImage(),main:e.getName()+" climbs a tree to get a vantage point",combat:[]}:t<.8?(e.downCond(2),{images:e.getImage(),main:e.getName()+" climbs a tree to get a vantage point, but slips and falls, injuring "+e.getObjpronoun()+"self",combat:[]}):(e.downCond(99),{images:e.getImage(),main:e.getName()+" climbs a tree to get a vantage point, but slips and falls, breaking "+e.getPospronoun()+" neck",combat:[]})},function(e){return e.addItem(ne(oe[3])),{images:e.getImage(),main:e.getName()+" picks some berries",combat:[]}},function(e){return{images:e.getImage(),main:e.getName()+" finds a cave",combat:[]}},function(e){return{images:e.getImage(),main:e.getName()+" starts a fire",combat:[]}},function(e){return{images:e.getImage(),main:e.getName()+" hunts for other players",combat:[]}},function(e){return{images:e.getImage(),main:e.getName()+" tries to map out the arena",combat:[]}},function(e){return e.getCond()>1&&e.downCond(1),{images:e.getImage(),main:e.getName()+" trips and sprains "+e.getPospronoun()+" ankle",combat:[]}}],he=[function(e){let t=V[Math.floor(Math.random()*V.length)];for(let n=0;n<e.getConts().length;n++)if(e.getConts()[n].newWeapon(t))return{images:e.getImage(),main:e.getName()+" recieve a "+t.getName()+" from a sponsor. "+e.getConts()[n].getName()+" keeps it",combat:[]};return{images:e.getImage(),main:e.getName()+" recieve a "+t.getName()+" from a sponsor, but they all keep their current weapons",combat:[]}},function(e){let t=J[Math.floor(Math.random()*J.length)],n=[e.getConts()[0]];for(let t=1;t<e.getConts().length;t++)e.getConts()[t].getConsumWeps().length<=n[0].getConsumWeps().length?n=[e.getConts()[t]].concat(n):n.push(e.getConts()[t]);for(let o=0;o<n.length;o++)if(n[o].newConsumWeapon(Q(t)))return{images:e.getImage(),main:e.getName()+" recieve a "+t.getName()+" from a sponsor. "+n[o].getName()+" keeps it",combat:[]};return{images:e.getImage(),main:e.getName()+" recieve a "+t.getName()+" from a sponsor, but do not need it",combat:[]}},function(e){let t=te[Math.floor(Math.random()*te.length)];return e.addItem(ne(t)),{images:e.getImage(),main:e.getName()+" recieve a "+t.getName()+" from a sponsor",combat:[]}},function(e){let t=Math.random(),n=e.getName()+" go hunting";return t<.33?n+=", but do not find anything":t<.66?n+=". They spot a squirrel, but it runs off before anyone can get close":(n+=". They spot a squirrel and catch it successfully!",e.addItem(ne(oe[0]))),{images:e.getImage(),main:n,combat:[]}},function(e){let t=Math.random(),n=e.getName()+" try to catch fish";if(t<.75)n+=", but fail";else{let t=e.getConts()[Math.floor(Math.random()*e.getConts().length)];"fists"==t.getWeapon().getName()?n+=". Amazingly, "+t.getPronoun()+t.verbSwitchPro(" grabs "," grab ")+"one with "+t.getPospronoun()+" bare hands!":n+=". Amazingly, "+t.getPronoun()+" "+t.getWeapon().getHitVerb()+" one with "+t.getPospronoun()+" "+t.getWeapon().getName()+"!",e.addItem(ne(oe[1]))}return{images:e.getImage(),main:n,combat:[]}},function(e){return e.addItem(ne(oe[2])),{images:e.getImage(),main:e.getName()+" find a fruit tree and collect some fruit",combat:[]}},function(e){let t,n=-1;for(let t=0;t<e.getConts().length;t++)if(e.getConts()[t].newWeapon(Z[0])){n=t;break}if(-1!=n){do{t=Math.floor(Math.random()*e.getConts().length)}while(n==t);return{images:e.getImage(),main:e.getConts()[t].getName()+" crafts a wooden spear for "+e.getConts()[n].getName(),combat:[]}}return he[Math.floor(Math.random()*he.length)](e)},function(e){return{images:e.getImage(),main:e.getName()+" build a fire",combat:[]}},function(e){let t,n=Math.random(),o=Math.floor(Math.random()*e.getConts().length);if(n<.5)t=e.getConts()[o].getName()+" climbs a tree to get a vantage point for "+e.getConts()[o].getPospronoun()+" group";else if(n<.8)e.getConts()[o].downCond(2),t=e.getConts()[o].getName()+" climbs a tree to get a vantage point, but slips and falls, injuring "+e.getConts()[o].getObjpronoun()+"self";else{let n;e.getConts()[o].downCond(2);do{n=Math.floor(Math.random()*e.getConts().length)}while(o==n);e.getConts()[n].downCond(2),t=e.getConts()[o].getName()+" climbs a tree to get a vantage point, but slips and falls onto "+e.getConts()[n].getName()+", injuring them both"}return{images:e.getImage(),main:t,combat:[]}},function(e){return e.addItem(ne(oe[3])),{images:e.getImage(),main:e.getName()+" pick berries",combat:[]}},function(e){return{images:e.getImage(),main:e.getName()+" find a cave",combat:[]}},function(e){return{images:e.getImage(),main:e.getName()+" start a fire",combat:[]}},function(e){return{images:e.getImage(),main:e.getName()+" hunt for other players",combat:[]}},function(e){return{images:e.getImage(),main:e.getName()+" try to map out the arena",combat:[]}},function(e){return{images:e.getImage(),main:e.getName()+" tell each other stories",combat:[]}}];function de(e,t){let n=new X(e,[],""),o="";if(e.length<=1)return n.setString("error, only one member in group, this shouldn't happen"),n;if(2==e.length)o+=e[0].getName()+" and "+e[1].getName();else{for(let t=0;t<e.length-1;t++)o+=e[t].getName()+", ";o+="and "+e[e.length-1].getName()}o+=t[Math.floor(Math.random()*t.length)],n.setString(o);for(let t=0;t<e.length;t++)for(let o=0;o<e[t].getItems().length;o++)n.getItems().push(e[t].getItems()[o]),e[t].getItems().splice(o,1);return n}let fe=[" form a group to increase their chances of winning"," form a group out of friendship"],pe=[function(e){let t,n=Math.floor(Math.random()*e.getConts().length),o=e.getConts()[n];return 2==e.getConts().length?(t=o.getName()+" has had enough of "+e.getConts()[1-n].getName()+" and attacks "+e.getConts()[1-n].getObjpronoun()+"!",{images:e.getImage(),main:t,combat:ce(o,e.getConts()[1-n])}):(e.loseMember(n),t=o.getName()+" has had enough of "+e.getName()+" and attacks them!",{images:o.getImage().concat(e.getImage()),main:t,combat:ce(o,e)})}],be=[function(e,t){let n=e.getName()+e.verbSwitchName(" spots "," spot ")+t.getName()+" from a distance. ";return Math.random()<.5?(n+=se(e.getPronoun())+" "+e.verbSwitchPro("decides","decide")+" to retreat",{images:e.getImage().concat(t.getImage()),main:n,combat:[]}):(n+=se(e.getPronoun())+" "+e.verbSwitchPro("decides","decide")+" to attack!",{images:e.getImage().concat(t.getImage()),main:n,combat:ce(e,t)})},function(e,t){let n=Math.random();if(0==t.getItems().length)return be[Math.floor(Math.random()*be.length)](e,t);if(n<.5){let n=Math.floor(Math.random()*t.getItems().length),o=t.getItems()[n];return e.addItem(t.getItems()[n]),t.loseItem(n),{images:e.getImage().concat(t.getImage()),main:e.getName()+e.verbSwitchName(" steals "," steal ")+"a "+o.getName()+" from "+t.getName(),combat:[]}}return{images:e.getImage().concat(t.getImage()),main:e.getName()+e.verbSwitchName(" tries "," try ")+" to steal supplies from "+t.getName()+", but get caught!",combat:ce(t,e)}},function(e,t){if(Math.random()<.5){if(t instanceof ae){if(t.downCond(99),e instanceof ae)return e.upKills(1),{images:e.getImage().concat(t.getImage()),main:e.getName()+" sneaks up on "+t.getName()+" while "+t.getPronoun()+t.verbSwitchPro(" is "," are ")+" sleeping, and kills "+t.getObjpronoun()+" silently",combat:ie(e,t)};{let n=Math.floor(Math.random()*e.getConts().length);return e.getConts()[n].upKills(1),{images:e.getImage().concat(t.getImage()),main:e.getName()+" sneak up on "+t.getName()+" while "+t.getPronoun()+t.verbSwitchPro(" is "," are ")+" sleeping. "+e.getConts()[n].getName()+" kills "+t.getObjpronoun()+" silently",combat:ie(e,t)}}}{let n=Math.floor(Math.random()*t.getConts().length);if(t.getConts()[n].downCond(99),e instanceof ae)return e.upKills(1),{images:e.getImage().concat(t.getImage()),main:e.getName()+" sneaks up on "+t.getName()+" while they sleep, killing "+t.getConts()[n].getName()+" before "+t.getPronoun()+" can wake up. Everyone else is awoken, and they retaliate!",combat:ce(e,t)};{let o=Math.floor(Math.random()*e.getConts().length);return e.getConts()[o].upKills(1),{images:e.getImage().concat(t.getImage()),main:e.getName()+" sneak up on "+t.getName()+" while they sleep. "+e.getConts()[o].getName()+" kills "+t.getConts()[n].getName()+" before "+t.getPronoun()+" can wake up. Everyone else is awoken, and they retaliate!",combat:ce(e,t)}}}}return{images:e.getImage().concat(t.getImage()),main:e.getName()+e.verbSwitchName(" tries "," try ")+"to sneak up on "+t.getName()+", but "+t.getPronoun()+t.verbSwitchPro(" is "," are ")+" woken up by the footsteps and"+t.verbSwitchPro(" fights "," fight ")+"back!",combat:ce(t,e)}},function(e,t){if(Math.random()<.5){if(Math.random()<.75)return{images:e.getImage().concat(t.getImage()),main:e.getName()+e.verbSwitchName(" charges "," charge ")+"at "+t.getName()+", but "+t.getPronoun()+t.verbSwitchPro(" runs "," run ")+" away!",combat:[]};if(t instanceof ae)return t.downCond(1),{images:e.getImage().concat(t.getImage()),main:e.getName()+e.verbSwitchName(" charges "," charge ")+"at "+t.getName()+". "+se(t.getPronoun())+t.verbSwitchPro(" tries "," try ")+"to run away, but "+t.getPronoun()+" trip and fall hard!",combat:ce(e,t)};{let n=Math.floor(Math.random()*t.getConts().length);return t.getConts()[n].downCond(1),{images:e.getImage().concat(t.getImage()),main:e.getName()+e.verbSwitchName(" charges "," charge ")+"at "+t.getName()+". They try to run away, but "+t.getConts()[n].getName()+" trips and falls hard!",combat:ce(e,t)}}}return{images:e.getImage().concat(t.getImage()),main:e.getName()+e.verbSwitchName(" charges "," charge ")+"at "+t.getName()+", but "+t.getPronoun()+t.verbSwitchPro(" stands "," stand ")+t.getPospronoun()+" ground!",combat:ce(e,t)}}];const Ce=[function(e){let t=Math.floor(Math.random()*V.length),n=V[t];return e.newWeapon(n),{images:e.getImage(),main:e.getName()+" grabs a "+n.getName()+" from the cornucopia",combat:[]}},function(e){let t=Math.floor(Math.random()*te.length),n=te[t];return e.addItem(ne(n)),{images:e.getImage(),main:e.getName()+" grabs a "+n.getName()+" from the cornucopia",combat:[]}},function(e){return{images:e.getImage(),main:e.getName()+" runs away from the cornucopia",combat:[]}},function(e){return{images:e.getImage(),main:e.getName()+" hides in the cornucopia",combat:[]}},function(e){let t=e.getName()+" grabs a backpack from the cornucopia";if(Math.random()<.5)t+=", only to later find it's empty";else{let n=te[Math.floor(Math.random()*te.length)];e.addItem(ne(n)),t+=", it has a "+n.getName()+" inside"}return{images:e.getImage(),main:t,combat:[]}}],we=[function(e,t){let n=V[Math.floor(Math.random()*V.length)],o=e.getName()+" and "+t.getName()+" both run for the same "+n.getName()+". ";return Math.random()<.5?(o+=e.getName()+" is faster, grabbing it then turning to fight "+t.getName(),e.newWeapon(n),{images:e.getImage().concat(t.getImage()),main:o,combat:ce(t,e)}):(o+=t.getName()+" is faster, grabbing it then turning to fight "+e.getName(),t.newWeapon(n),{images:e.getImage().concat(t.getImage()),main:o,combat:ce(e,t)})},function(e,t){return{images:e.getImage().concat(t.getImage()),main:e.getName()+" and "+t.getName()+" bump into eachother before reaching the cornucopia, and get in a fistfight",combat:ce(e,t)}}],Ne=[" leave the cornucopia together, having agreed to an alliance before the game began"];let ye=3;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function Ie(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _e={exports:{}};
/* @license
    Papa Parse
    v5.5.3
    https://github.com/mholt/PapaParse
    License: MIT
    */_e.exports=function e(){var t,n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:{},o=!n.document&&!!n.postMessage,r=n.IS_PAPA_WORKER||!1,a={},s=0,i={};function g(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=w(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new h(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,t){var o=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<o){let t=this._config.newline;t||(a=this._config.quoteChar||'"',t=this._handle.guessLineEndings(e,a)),e=[...e.split(t).slice(o)].join(t)}this.isFirstChunk&&y(this._config.beforeFirstChunk)&&void 0!==(a=this._config.beforeFirstChunk(e))&&(e=a),this.isFirstChunk=!1,this._halted=!1,o=this._partialLine+e;var a=(this._partialLine="",this._handle.parse(o,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(e=a.meta.cursor,this._finished||(this._partialLine=o.substring(e-this._baseIndex),this._baseIndex=e),a&&a.data&&(this._rowCount+=a.data.length),o=this._finished||this._config.preview&&this._rowCount>=this._config.preview,r)n.postMessage({results:a,workerId:i.WORKER_ID,finished:o});else if(y(this._config.chunk)&&!t){if(this._config.chunk(a,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=a=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(a.data),this._completeResults.errors=this._completeResults.errors.concat(a.errors),this._completeResults.meta=a.meta),this._completed||!o||!y(this._config.complete)||a&&a.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),o||a&&a.meta.paused||this._nextChunk(),a}this._halted=!0},this._sendError=function(e){y(this._config.error)?this._config.error(e):r&&this._config.error&&n.postMessage({workerId:i.WORKER_ID,error:e,finished:!1})}}function l(e){var t;(e=e||{}).chunkSize||(e.chunkSize=i.RemoteChunkSize),g.call(this,e),this._nextChunk=o?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),o||(t.onload=N(this._chunkLoaded,this),t.onerror=N(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var e,n=this._config.downloadRequestHeaders;for(e in n)t.setRequestHeader(e,n[e])}var r;this._config.chunkSize&&(r=this._start+this._config.chunkSize-1,t.setRequestHeader("Range","bytes="+this._start+"-"+r));try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}o&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize||t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(e=>null!==(e=e.getResponseHeader("Content-Range"))?parseInt(e.substring(e.lastIndexOf("/")+1)):-1)(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){e=t.statusText||e,this._sendError(new Error(e))}}function u(e){(e=e||{}).chunkSize||(e.chunkSize=i.LocalChunkSize),g.call(this,e);var t,n,o="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,o?((t=new FileReader).onload=N(this._chunkLoaded,this),t.onerror=N(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input,r=(this._config.chunkSize&&(r=Math.min(this._start+this._config.chunkSize,this._input.size),e=n.call(e,this._start,r)),t.readAsText(e,this._config.encoding));o||this._chunkLoaded({target:{result:r}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function c(e){var t;g.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){var e,n;if(!this._finished)return e=this._config.chunkSize,t=e?(n=t.substring(0,e),t.substring(e)):(n=t,""),this._finished=!t,this.parseChunk(n)}}function m(e){g.call(this,e=e||{});var t=[],n=!0,o=!1;this.pause=function(){g.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){g.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){o&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=N(function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=N(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=N(function(){this._streamCleanUp(),o=!0,this._streamData("")},this),this._streamCleanUp=N(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function h(e){var t,n,o,r,a=Math.pow(2,53),s=-a,g=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,l=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,u=this,c=0,m=0,h=!1,p=!1,b=[],C={data:[],errors:[],meta:{}};function N(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function I(){if(C&&o&&(v("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+i.DefaultDelimiter+"'"),o=!1),e.skipEmptyLines&&(C.data=C.data.filter(function(e){return!N(e)})),_()){if(C)if(Array.isArray(C.data[0])){for(var t=0;_()&&t<C.data.length;t++)C.data[t].forEach(u);C.data.splice(0,1)}else C.data.forEach(u);function u(t,n){y(e.transformHeader)&&(t=e.transformHeader(t,n)),b.push(t)}}function n(t,n){for(var o=e.header?{}:[],r=0;r<t.length;r++){var i=r,u=t[r];u=((t,n)=>(t=>(e.dynamicTypingFunction&&void 0===e.dynamicTyping[t]&&(e.dynamicTyping[t]=e.dynamicTypingFunction(t)),!0===(e.dynamicTyping[t]||e.dynamicTyping)))(t)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&((e=>{if(g.test(e)&&(e=parseFloat(e),s<e&&e<a))return 1})(n)?parseFloat(n):l.test(n)?new Date(n):""===n?null:n):n)(i=e.header?r>=b.length?"__parsed_extra":b[r]:i,u=e.transform?e.transform(u,i):u),"__parsed_extra"===i?(o[i]=o[i]||[],o[i].push(u)):o[i]=u}return e.header&&(r>b.length?v("FieldMismatch","TooManyFields","Too many fields: expected "+b.length+" fields but parsed "+r,m+n):r<b.length&&v("FieldMismatch","TooFewFields","Too few fields: expected "+b.length+" fields but parsed "+r,m+n)),o}var r;C&&(e.header||e.dynamicTyping||e.transform)&&(r=1,!C.data.length||Array.isArray(C.data[0])?(C.data=C.data.map(n),r=C.data.length):C.data=n(C.data,0),e.header&&C.meta&&(C.meta.fields=b),m+=r)}function _(){return e.header&&0===b.length}function v(e,t,n,o){e={type:e,code:t,message:n},void 0!==o&&(e.row=o),C.errors.push(e)}y(e.step)&&(r=e.step,e.step=function(t){C=t,_()?I():(I(),0!==C.data.length&&(c+=t.data.length,e.preview&&c>e.preview?n.abort():(C.data=C.data[0],r(C,u))))}),this.parse=function(r,a,s){var g=e.quoteChar||'"';return e.newline||(e.newline=this.guessLineEndings(r,g)),o=!1,e.delimiter?y(e.delimiter)&&(e.delimiter=e.delimiter(r),C.meta.delimiter=e.delimiter):((g=((t,n,o,r,a)=>{var s,g,l,u;a=a||[",","\t","|",";",i.RECORD_SEP,i.UNIT_SEP];for(var c=0;c<a.length;c++){for(var m,h=a[c],d=0,p=0,b=0,C=(l=void 0,new f({comments:r,delimiter:h,newline:n,preview:10}).parse(t)),w=0;w<C.data.length;w++)o&&N(C.data[w])?b++:(p+=m=C.data[w].length,void 0===l?l=m:0<m&&(d+=Math.abs(m-l),l=m));0<C.data.length&&(p/=C.data.length-b),(void 0===g||d<=g)&&(void 0===u||u<p)&&1.99<p&&(g=d,s=h,u=p)}return{successful:!!(e.delimiter=s),bestDelimiter:s}})(r,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess)).successful?e.delimiter=g.bestDelimiter:(o=!0,e.delimiter=i.DefaultDelimiter),C.meta.delimiter=e.delimiter),g=w(e),e.preview&&e.header&&g.preview++,t=r,n=new f(g),C=n.parse(t,a,s),I(),h?{meta:{paused:!0}}:C||{meta:{paused:!1}}},this.paused=function(){return h},this.pause=function(){h=!0,n.abort(),t=y(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){u.streamer._halted?(h=!1,u.streamer.parseChunk(t,!0)):setTimeout(u.resume,3)},this.aborted=function(){return p},this.abort=function(){p=!0,n.abort(),C.meta.aborted=!0,y(e.complete)&&e.complete(C),t=""},this.guessLineEndings=function(e,t){e=e.substring(0,1048576),t=new RegExp(d(t)+"([^]*?)"+d(t),"gm");var n=(e=e.replace(t,"")).split("\r");if(e=1<(t=e.split("\n")).length&&t[0].length<n[0].length,1===n.length||e)return"\n";for(var o=0,r=0;r<n.length;r++)"\n"===n[r][0]&&o++;return o>=n.length/2?"\r\n":"\r"}}function d(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function f(e){var t=(e=e||{}).delimiter,n=e.newline,o=e.comments,r=e.step,a=e.preview,s=e.fastMode,g=null,l=!1,u=null==e.quoteChar?'"':e.quoteChar,c=u;if(void 0!==e.escapeChar&&(c=e.escapeChar),("string"!=typeof t||-1<i.BAD_DELIMITERS.indexOf(t))&&(t=","),o===t)throw new Error("Comment character same as delimiter");!0===o?o="#":("string"!=typeof o||-1<i.BAD_DELIMITERS.indexOf(o))&&(o=!1),"\n"!==n&&"\r"!==n&&"\r\n"!==n&&(n="\n");var m=0,h=!1;this.parse=function(i,f,p){if("string"!=typeof i)throw new Error("Input must be a string");var b=i.length,C=t.length,w=n.length,N=o.length,I=y(r),_=[],v=[],k=[],M=m=0;if(!i)return U();if(s||!1!==s&&-1===i.indexOf(u)){for(var x=i.split(n),E=0;E<x.length;E++){if(k=x[E],m+=k.length,E!==x.length-1)m+=n.length;else if(p)return U();if(!o||k.substring(0,N)!==o){if(I){if(_=[],A(k.split(t)),j(),h)return U()}else A(k.split(t));if(a&&a<=E)return _=_.slice(0,a),U(!0)}}return U()}for(var P=i.indexOf(t,m),S=i.indexOf(n,m),O=new RegExp(d(c)+d(u),"g"),D=i.indexOf(u,m);;)if(i[m]===u)for(D=m,m++;;){if(-1===(D=i.indexOf(u,D+1)))return p||v.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:_.length,index:m}),T();if(D===b-1)return T(i.substring(m,D).replace(O,u));if(u===c&&i[D+1]===c)D++;else if(u===c||0===D||i[D-1]!==c){-1!==P&&P<D+1&&(P=i.indexOf(t,D+1));var R=W(-1===(S=-1!==S&&S<D+1?i.indexOf(n,D+1):S)?P:Math.min(P,S));if(i.substr(D+1+R,C)===t){k.push(i.substring(m,D).replace(O,u)),i[m=D+1+R+C]!==u&&(D=i.indexOf(u,m)),P=i.indexOf(t,m),S=i.indexOf(n,m);break}if(R=W(S),i.substring(D+1+R,D+1+R+w)===n){if(k.push(i.substring(m,D).replace(O,u)),$(D+1+R+w),P=i.indexOf(t,m),D=i.indexOf(u,m),I&&(j(),h))return U();if(a&&_.length>=a)return U(!0);break}v.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:_.length,index:m}),D++}}else if(o&&0===k.length&&i.substring(m,m+N)===o){if(-1===S)return U();m=S+w,S=i.indexOf(n,m),P=i.indexOf(t,m)}else if(-1!==P&&(P<S||-1===S))k.push(i.substring(m,P)),m=P+C,P=i.indexOf(t,m);else{if(-1===S)break;if(k.push(i.substring(m,S)),$(S+w),I&&(j(),h))return U();if(a&&_.length>=a)return U(!0)}return T();function A(e){_.push(e),M=m}function W(e){var t=0;return-1!==e&&(e=i.substring(D+1,e))&&""===e.trim()?e.length:t}function T(e){return p||(void 0===e&&(e=i.substring(m)),k.push(e),m=b,A(k),I&&j()),U()}function $(e){m=e,A(k),k=[],S=i.indexOf(n,m)}function U(o){if(e.header&&!f&&_.length&&!l){var r=_[0],a=Object.create(null),s=new Set(r);let t=!1;for(let n=0;n<r.length;n++){let o=r[n];if(a[o=y(e.transformHeader)?e.transformHeader(o,n):o]){let e,i=a[o];for(;e=o+"_"+i,i++,s.has(e););s.add(e),r[n]=e,a[o]++,t=!0,(g=null===g?{}:g)[e]=o}else a[o]=1,r[n]=o;s.add(o)}t&&console.warn("Duplicate headers found and renamed."),l=!0}return{data:_,errors:v,meta:{delimiter:t,linebreak:n,aborted:h,truncated:!!o,cursor:M+(f||0),renamedHeaders:g}}}function j(){r(U()),_=[],v=[]}},this.abort=function(){h=!0},this.getCharIndex=function(){return m}}function p(e){var t=e.data,n=a[t.workerId],o=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var r={abort:function(){o=!0,b(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:C,resume:C};if(y(n.userStep)){for(var s=0;s<t.results.data.length&&(n.userStep({data:t.results.data[s],errors:t.results.errors,meta:t.results.meta},r),!o);s++);delete t.results}else y(n.userChunk)&&(n.userChunk(t.results,r,t.file),delete t.results)}t.finished&&!o&&b(t.workerId,t.results)}function b(e,t){var n=a[e];y(n.userComplete)&&n.userComplete(t),n.terminate(),delete a[e]}function C(){throw new Error("Not implemented.")}function w(e){if("object"!=typeof e||null===e)return e;var t,n=Array.isArray(e)?[]:{};for(t in e)n[t]=w(e[t]);return n}function N(e,t){return function(){e.apply(t,arguments)}}function y(e){return"function"==typeof e}return i.parse=function(t,o){var r=(o=o||{}).dynamicTyping||!1;if(y(r)&&(o.dynamicTypingFunction=r,r={}),o.dynamicTyping=r,o.transform=!!y(o.transform)&&o.transform,!o.worker||!i.WORKERS_SUPPORTED)return r=null,i.NODE_STREAM_INPUT,"string"==typeof t?(t=(e=>65279!==e.charCodeAt(0)?e:e.slice(1))(t),r=new(o.download?l:c)(o)):!0===t.readable&&y(t.read)&&y(t.on)?r=new m(o):(n.File&&t instanceof File||t instanceof Object)&&(r=new u(o)),r.stream(t);(r=(()=>{var t;return!!i.WORKERS_SUPPORTED&&(t=(()=>{var t=n.URL||n.webkitURL||null,o=e.toString();return i.BLOB_URL||(i.BLOB_URL=t.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",o,")();"],{type:"text/javascript"})))})(),(t=new n.Worker(t)).onmessage=p,t.id=s++,a[t.id]=t)})()).userStep=o.step,r.userChunk=o.chunk,r.userComplete=o.complete,r.userError=o.error,o.step=y(o.step),o.chunk=y(o.chunk),o.complete=y(o.complete),o.error=y(o.error),delete o.worker,r.postMessage({input:t,config:o,workerId:r.id})},i.unparse=function(e,t){var n=!1,o=!0,r=",",a="\r\n",s='"',g=s+s,l=!1,u=null,c=!1,m=((()=>{if("object"==typeof t){if("string"!=typeof t.delimiter||i.BAD_DELIMITERS.filter(function(e){return-1!==t.delimiter.indexOf(e)}).length||(r=t.delimiter),"boolean"!=typeof t.quotes&&"function"!=typeof t.quotes&&!Array.isArray(t.quotes)||(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(l=t.skipEmptyLines),"string"==typeof t.newline&&(a=t.newline),"string"==typeof t.quoteChar&&(s=t.quoteChar),"boolean"==typeof t.header&&(o=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");u=t.columns}void 0!==t.escapeChar&&(g=t.escapeChar+s),t.escapeFormulae instanceof RegExp?c=t.escapeFormulae:"boolean"==typeof t.escapeFormulae&&t.escapeFormulae&&(c=/^[=+\-@\t\r].*$/)}})(),new RegExp(d(s),"g"));if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return h(null,e,l);if("object"==typeof e[0])return h(u||Object.keys(e[0]),e,l)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||u),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),h(e.fields||[],e.data||[],l);throw new Error("Unable to serialize unrecognized input");function h(e,t,n){var s="",i=("string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t)),Array.isArray(e)&&0<e.length),g=!Array.isArray(t[0]);if(i&&o){for(var l=0;l<e.length;l++)0<l&&(s+=r),s+=f(e[l],l);0<t.length&&(s+=a)}for(var u=0;u<t.length;u++){var c=(i?e:t[u]).length,m=!1,h=i?0===Object.keys(t[u]).length:0===t[u].length;if(n&&!i&&(m="greedy"===n?""===t[u].join("").trim():1===t[u].length&&0===t[u][0].length),"greedy"===n&&i){for(var d=[],p=0;p<c;p++){var b=g?e[p]:p;d.push(t[u][b])}m=""===d.join("").trim()}if(!m){for(var C=0;C<c;C++){0<C&&!h&&(s+=r);var w=i&&g?e[C]:C;s+=f(t[u][w],C)}u<t.length-1&&(!n||0<c&&!h)&&(s+=a)}}return s}function f(e,t){var o,a;return null==e?"":e.constructor===Date?JSON.stringify(e).slice(1,25):(a=!1,c&&"string"==typeof e&&c.test(e)&&(e="'"+e,a=!0),o=e.toString().replace(m,g),(a=a||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||((e,t)=>{for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1})(o,i.BAD_DELIMITERS)||-1<o.indexOf(r)||" "===o.charAt(0)||" "===o.charAt(o.length-1))?s+o+s:o)}},i.RECORD_SEP=String.fromCharCode(30),i.UNIT_SEP=String.fromCharCode(31),i.BYTE_ORDER_MARK="\ufeff",i.BAD_DELIMITERS=["\r","\n",'"',i.BYTE_ORDER_MARK],i.WORKERS_SUPPORTED=!o&&!!n.Worker,i.NODE_STREAM_INPUT=1,i.LocalChunkSize=10485760,i.RemoteChunkSize=5242880,i.DefaultDelimiter=",",i.Parser=f,i.ParserHandle=h,i.NetworkStreamer=l,i.FileStreamer=u,i.StringStreamer=c,i.ReadableStreamStreamer=m,n.jQuery&&((t=n.jQuery).fn.parse=function(e){var o=e.config||{},r=[];return this.each(function(e){if("INPUT"!==t(this).prop("tagName").toUpperCase()||"file"!==t(this).attr("type").toLowerCase()||!n.FileReader||!this.files||0===this.files.length)return!0;for(var a=0;a<this.files.length;a++)r.push({file:this.files[a],inputElem:this,instanceConfig:t.extend({},o)})}),a(),this;function a(){if(0===r.length)y(e.complete)&&e.complete();else{var n,o,a,g,l=r[0];if(y(e.before)){var u=e.before(l.file,l.inputElem);if("object"==typeof u){if("abort"===u.action)return n="AbortError",o=l.file,a=l.inputElem,g=u.reason,void(y(e.error)&&e.error({name:n},o,a,g));if("skip"===u.action)return void s();"object"==typeof u.config&&(l.instanceConfig=t.extend(l.instanceConfig,u.config))}else if("skip"===u)return void s()}var c=l.instanceConfig.complete;l.instanceConfig.complete=function(e){y(c)&&c(e,l.file,l.inputElem),s()},i.parse(l.file,l.instanceConfig)}}function s(){r.splice(0,1),a()}}),r&&(n.onmessage=function(e){e=e.data,void 0===i.WORKER_ID&&e&&(i.WORKER_ID=e.workerId),"string"==typeof e.input?n.postMessage({workerId:i.WORKER_ID,results:i.parse(e.input,e.config),finished:!0}):(n.File&&e.input instanceof File||e.input instanceof Object)&&(e=i.parse(e.input,e.config))&&n.postMessage({workerId:i.WORKER_ID,results:e,finished:!0})}),(l.prototype=Object.create(g.prototype)).constructor=l,(u.prototype=Object.create(g.prototype)).constructor=u,(c.prototype=Object.create(c.prototype)).constructor=c,(m.prototype=Object.create(g.prototype)).constructor=m,i}();var ve=Ie(_e.exports);function ke(e,t,n){const o=e.slice();return o[38]=t[n],o[39]=t,o[40]=n,o}function Me(e){let t;return{c(){t=h("p"),t.textContent="Error, there must be contestants present to play the game"},m(e,n){u(e,t,n)},d(e){e&&c(t)}}}function xe(e){let t,n,r,a,s,i,g,l,m;function d(...t){return e[28](e[38],...t)}function p(...t){return e[29](e[38],...t)}function w(...t){return e[30](e[38],...t)}function N(){return e[31](e[38])}return{c(){t=h("input"),n=f(),r=h("input"),a=f(),s=h("input"),i=f(),g=h("button"),g.textContent="back",C(t,"type","text"),C(t,"placeholder","ex. He/She/They"),C(t,"class","create-input"),C(r,"type","text"),C(r,"placeholder","ex. Him/Her/Them"),C(r,"class","create-input"),C(s,"type","text"),C(s,"placeholder","ex. His/Her/Their"),C(s,"class","create-input"),C(g,"class","back-button")},m(e,o){u(e,t,o),u(e,n,o),u(e,r,o),u(e,a,o),u(e,s,o),u(e,i,o),u(e,g,o),l||(m=[b(t,"input",d),b(r,"input",p),b(s,"input",w),b(g,"click",N)],l=!0)},p(t,n){e=t},d(e){e&&c(t),e&&c(n),e&&c(r),e&&c(a),e&&c(s),e&&c(i),e&&c(g),l=!1,o(m)}}}function Ee(e){let t,n,r,a,s,i,g;function m(){e[26].call(t,e[40])}function d(){return e[27](e[38],e[40])}return{c(){t=h("select"),n=h("option"),n.textContent="He/Him",r=h("option"),r.textContent="She/Her",a=h("option"),a.textContent="They/Them",s=h("option"),s.textContent="Custom",n.__value="1",n.value=n.__value,n.selected=!0,r.__value="2",r.value=r.__value,a.__value="3",a.value=a.__value,s.__value="4",s.value=s.__value,C(t,"class","create-input"),void 0===e[4][e[40]]&&S(m)},m(o,c){u(o,t,c),l(t,n),l(t,r),l(t,a),l(t,s),I(t,e[4][e[40]],!0),i||(g=[b(t,"change",m),b(t,"change",d)],i=!0)},p(n,o){e=n,16&o[0]&&I(t,e[4][e[40]])},d(e){e&&c(t),i=!1,o(g)}}}function Pe(e){let t,n,r,a,s,i,m,p,w,N,I,_,v,k,M,x,E,P,S,O,D,R,A,W,T;function $(){return e[23](e[38])}function U(...t){return e[24](e[38],...t)}function j(...t){return e[25](e[38],...t)}function H(e,t){return 1&t[0]&&(S=null),null==S&&(S=!(0!=e[38].getPronounCustomToggle())),S?Ee:xe}let L=H(e,[-1,-1]),F=L(e);function z(){return e[32](e[38])}return{c(){t=h("div"),n=h("img"),a=f(),s=h("label"),i=h("input"),m=f(),p=h("p"),p.textContent="File Upload",w=f(),N=h("p"),N.textContent="OR",I=f(),_=h("input"),v=f(),k=h("p"),k.textContent="",M=f(),x=h("input"),P=f(),F.c(),O=f(),D=h("button"),R=d("X"),g(n.src,r=e[38].getImage()[0])||C(n,"src",r),C(n,"alt","img error"),C(n,"class","create-pic"),C(i,"accept","image/png, image/jpeg"),C(i,"type","file"),C(i,"id","selectedFile"),y(i,"display","none"),C(p,"class","fileupload"),C(s,"class","input-label"),y(N,"margin","auto"),C(_,"type","text"),C(_,"placeholder","Image Link"),C(_,"class","create-input"),y(k,"margin","auto"),C(x,"type","text"),x.value=E=e[38].getName(),C(x,"placeholder","Name"),C(x,"class","create-input"),D.disabled=A=1==e[1],C(D,"class","create-x"),C(t,"class","cont-creator")},m(o,r){u(o,t,r),l(t,n),l(t,a),l(t,s),l(s,i),l(s,m),l(s,p),l(t,w),l(t,N),l(t,I),l(t,_),l(t,v),l(t,k),l(t,M),l(t,x),l(t,P),F.m(t,null),l(t,O),l(t,D),l(D,R),W||(T=[b(i,"change",e[22]),b(i,"change",$),b(_,"input",U),b(x,"input",j),b(D,"click",z)],W=!0)},p(o,a){e=o,1&a[0]&&!g(n.src,r=e[38].getImage()[0])&&C(n,"src",r),1&a[0]&&E!==(E=e[38].getName())&&x.value!==E&&(x.value=E),L===(L=H(e,a))&&F?F.p(e,a):(F.d(1),F=L(e),F&&(F.c(),F.m(t,O))),2&a[0]&&A!==(A=1==e[1])&&(D.disabled=A)},d(e){e&&c(t),F.d(),W=!1,o(T)}}}function Se(t){let n,r,a,s,i,g,d,p,w,I,_,v,k,M,x,E,P,S,O,D,R,A,W,T,$,U,j,H=t[3]&&Me(),L=t[0],F=[];for(let e=0;e<L.length;e+=1)F[e]=Pe(ke(t,L,e));return{c(){n=h("div"),r=h("p"),r.textContent="Number of contestants:",a=f(),s=h("input"),i=f(),g=h("button"),g.textContent="submit",d=f(),H&&H.c(),p=f();for(let e=0;e<F.length;e+=1)F[e].c();w=f(),I=h("button"),I.textContent="add contestant",_=f(),v=h("p"),v.innerHTML="<br/>",k=f(),M=h("label"),x=h("input"),E=f(),P=h("p"),P.textContent="Cast Upload",S=f(),O=h("span"),O.textContent="Filename:",D=f(),R=h("input"),A=f(),W=h("button"),W.textContent="Download",T=f(),$=h("p"),$.innerHTML="<br/>",C(s,"type","text"),C(n,"class","num-header"),C(x,"accept",".csv"),C(x,"type","file"),C(x,"id","selectedFile2"),y(x,"display","none"),C(P,"class","fileupload"),C(M,"class","input-label"),C(R,"type","text")},m(e,o){u(e,n,o),l(n,r),l(n,a),l(n,s),N(s,t[2]),l(n,i),l(n,g),u(e,d,o),H&&H.m(e,o),u(e,p,o);for(let t=0;t<F.length;t+=1)F[t]&&F[t].m(e,o);u(e,w,o),u(e,I,o),u(e,_,o),u(e,v,o),u(e,k,o),u(e,M,o),l(M,x),l(M,E),l(M,P),u(e,S,o),u(e,O,o),u(e,D,o),u(e,R,o),N(R,t[7]),u(e,A,o),u(e,W,o),u(e,T,o),u(e,$,o),U||(j=[b(s,"input",t[21]),b(g,"click",t[8]),b(I,"click",t[13]),b(x,"change",t[33]),b(x,"change",t[20]),b(R,"input",t[34]),b(W,"click",t[19])],U=!0)},p(e,t){if(4&t[0]&&s.value!==e[2]&&N(s,e[2]),e[3]?H||(H=Me(),H.c(),H.m(p.parentNode,p)):H&&(H.d(1),H=null),515635&t[0]){let n;for(L=e[0],n=0;n<L.length;n+=1){const o=ke(e,L,n);F[n]?F[n].p(o,t):(F[n]=Pe(o),F[n].c(),F[n].m(w.parentNode,w))}for(;n<F.length;n+=1)F[n].d(1);F.length=L.length}128&t[0]&&R.value!==e[7]&&N(R,e[7])},i:e,o:e,d(e){e&&c(n),e&&c(d),H&&H.d(e),e&&c(p),m(F,e),e&&c(w),e&&c(I),e&&c(_),e&&c(v),e&&c(k),e&&c(M),e&&c(S),e&&c(O),e&&c(D),e&&c(R),e&&c(A),e&&c(W),e&&c(T),e&&c($),U=!1,o(j)}}}function Oe(e,t,n){let o,r,a,s,i,{creationConts:g}=t,{numConts:l}=t,u=l,c=!1,m=[],h="cast";const d=(e,t)=>{t.setName(e.target.value)},f=(e,t)=>{t.setPronoun(e.target.value)},p=(e,t)=>{t.setObjPronoun(e.target.value)},b=(e,t)=>{t.setPosPronoun(e.target.value)},C=e=>{let t=g.indexOf(e);g.splice(t,1),m.splice(t,1),n(1,l=g.length),n(2,u=l),n(0,g),n(3,c=!1)},w=(e,t)=>{""==e.target.value?t.setImage("Default.png"):t.setImage(e.target.value),n(0,g)},N=(e,t)=>{let o=m[t];"1"==o?(e.setPronoun("he"),e.setObjPronoun("him"),e.setPosPronoun("his"),e.setPronounCustomToggle(!1)):"2"==o?(e.setPronoun("she"),e.setObjPronoun("her"),e.setPosPronoun("her"),e.setPronounCustomToggle(!1)):"3"==o?(e.setPronoun("they"),e.setObjPronoun("them"),e.setPosPronoun("their"),e.setPronounCustomToggle(!1)):e.setPronounCustomToggle(!0),n(0,g)},y=e=>{e.setPronounCustomToggle(!1),n(0,g)},I=e=>{let t=o[0],r=new FileReader;r.readAsDataURL(t),r.addEventListener("load",function(){let t=r.result;e.setImage(t),n(0,g)})};return e.$$set=e=>{"creationConts"in e&&n(0,g=e.creationConts),"numConts"in e&&n(1,l=e.numConts)},[g,l,u,c,m,o,r,h,()=>{if(u<=0)n(3,c=!0);else{for(n(3,c=!1),n(1,l=u);g.length>u;)g.pop(),m.pop();for(;g.length<u;)g.push(new ae("","he","him","his","Default.png")),m.push("1")}n(0,g)},d,f,p,b,()=>{g.push(new ae("","he","him","his","Default.png")),m.push("1"),n(1,l=g.length),n(2,u=l),n(0,g),n(3,c=!1)},C,w,N,y,I,()=>{a=l.toString()+"\n";for(let e=0;e<g.length;e++)a+=g[e].getImage()+"@",a+=g[e].getName()+"@",a+=g[e].getPronoun()+"@",a+=g[e].getObjpronoun()+"@",a+=g[e].getPospronoun()+"\n";s=new Blob([a],{type:"text/csv"}),i=window.URL.createObjectURL(s),""==h&&n(7,h="cast"),h.includes(".")&&n(7,h=h.substring(0,h.indexOf(".")));const e=document.createElement("a");e.href=i,e.download=h,document.body.appendChild(e),e.click(),document.body.removeChild(e)},()=>{ve.parse(r[0],{delimiter:"@",complete(e){let t=e.data;for(console.log(t),n(1,l=parseInt(t[0][0]));g.length>l;)g.pop(),m.pop();for(;g.length<l;)g.push(new ae("","he","him","his","Default.png")),m.push("1");for(let e=0;e<l;e++)g[e].setImage(t[e+1][0]),g[e].setName(t[e+1][1]),g[e].setPronoun(t[e+1][2]),g[e].setObjPronoun(t[e+1][3]),g[e].setPosPronoun(t[e+1][4]);for(let e=0;e<l;e++)"he"==g[e].getPronoun()&&"him"==g[e].getObjpronoun()&&"his"==g[e].getPospronoun()?n(4,m[e]="1",m):"she"==g[e].getPronoun()&&"her"==g[e].getObjpronoun()&&"her"==g[e].getPospronoun()?n(4,m[e]="2",m):"they"==g[e].getPronoun()&&"them"==g[e].getObjpronoun()&&"their"==g[e].getPospronoun()?n(4,m[e]="3",m):(n(4,m[e]="4",m),g[e].setPronounCustomToggle(!0));n(0,g)}})},function(){u=this.value,n(2,u)},function(){o=this.files,n(5,o)},e=>I(e),(e,t)=>w(t,e),(e,t)=>d(t,e),function(e){m[e]=function(e){const t=e.querySelector(":checked");return t&&t.__value}(this),n(4,m)},(e,t)=>N(e,t),(e,t)=>f(t,e),(e,t)=>p(t,e),(e,t)=>b(t,e),e=>y(e),e=>C(e),function(){r=this.files,n(6,r)},function(){h=this.value,n(7,h)}]}class De extends K{constructor(e){super(),q(this,e,Oe,Se,a,{creationConts:0,numConts:1},null,[-1,-1])}}function Re(e,t,n){const o=e.slice();return o[5]=t[n],o[7]=n,o}function Ae(e,t,n){const o=e.slice();return o[8]=t[n],o[10]=n,o}function We(e,t,n){const o=e.slice();return o[8]=t[n],o[10]=n,o}function Te(e,t,n){const o=e.slice();return o[8]=t[n],o}function $e(e){let t,n,o=e[1]-1+"";return{c(){t=d("Day "),n=d(o)},m(e,o){u(e,t,o),u(e,n,o)},p(e,t){2&t&&o!==(o=e[1]-1+"")&&w(n,o)},d(e){e&&c(t),e&&c(n)}}}function Ue(t){let n;return{c(){n=d("The Cornucopia")},m(e,t){u(e,n,t)},p:e,d(e){e&&c(n)}}}function je(e){let t;return{c(){t=h("div"),t.innerHTML="<h5>Scroll down for events</h5>",C(t,"class","spacer")},m(e,n){u(e,t,n)},d(e){e&&c(t)}}}function He(e){let t,n;return{c(){t=h("img"),g(t.src,n=e[8])||C(t,"src",n),C(t,"alt","img error"),C(t,"class","create-pic")},m(e,n){u(e,t,n)},p(e,o){1&o&&!g(t.src,n=e[8])&&C(t,"src",n)},d(e){e&&c(t)}}}function Le(e){let t,n=e[5].combat,o=[];for(let t=0;t<n.length;t+=1)o[t]=Ge(Ae(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=p()},m(e,n){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,n);u(e,t,n)},p(e,r){if(1&r){let a;for(n=e[5].combat,a=0;a<n.length;a+=1){const s=Ae(e,n,a);o[a]?o[a].p(s,r):(o[a]=Ge(s),o[a].c(),o[a].m(t.parentNode,t))}for(;a<o.length;a+=1)o[a].d(1);o.length=n.length}},d(e){m(o,e),e&&c(t)}}}function Fe(e){let t,n=e[5].combat,o=[];for(let t=0;t<n.length;t+=1)o[t]=Ke(We(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=f()},m(e,n){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,n);u(e,t,n)},p(e,r){if(1&r){let a;for(n=e[5].combat,a=0;a<n.length;a+=1){const s=We(e,n,a);o[a]?o[a].p(s,r):(o[a]=Ke(s),o[a].c(),o[a].m(t.parentNode,t))}for(;a<o.length;a+=1)o[a].d(1);o.length=n.length}},d(e){m(o,e),e&&c(t)}}}function ze(e){let t,n,o=e[8]+"";return{c(){t=h("p"),n=d(o),y(t,"font-size","12px")},m(e,o){u(e,t,o),l(t,n)},p(e,t){1&t&&o!==(o=e[8]+"")&&w(n,o)},d(e){e&&c(t)}}}function Ge(e){let t,n=e[10]==e[5].combat.length-1&&ze(e);return{c(){n&&n.c(),t=p()},m(e,o){n&&n.m(e,o),u(e,t,o)},p(e,o){e[10]==e[5].combat.length-1?n?n.p(e,o):(n=ze(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&c(t)}}}function qe(e){let t,n,o=e[8]+"";return{c(){t=h("p"),n=d(o),y(t,"font-size","12px")},m(e,o){u(e,t,o),l(t,n)},p(e,t){1&t&&o!==(o=e[8]+"")&&w(n,o)},d(e){e&&c(t)}}}function Ke(e){let t,n=e[10]!=e[5].combat.length-1&&qe(e);return{c(){n&&n.c(),t=p()},m(e,o){n&&n.m(e,o),u(e,t,o)},p(e,o){e[10]!=e[5].combat.length-1?n?n.p(e,o):(n=qe(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&c(t)}}}function Be(e){let t,n,o,r,a,s,i=e[5].main+"",g=e[5].images,b=[];for(let t=0;t<g.length;t+=1)b[t]=He(Te(e,g,t));function C(e,t){return e[3]?Fe:Le}let N=C(e),I=N(e);return{c(){t=h("div");for(let e=0;e<b.length;e+=1)b[e].c();n=f(),o=h("p"),r=d(i),a=f(),I.c(),s=p(),y(t,"margin","auto")},m(e,i){u(e,t,i);for(let e=0;e<b.length;e+=1)b[e]&&b[e].m(t,null);u(e,n,i),u(e,o,i),l(o,r),u(e,a,i),I.m(e,i),u(e,s,i)},p(e,n){if(1&n){let o;for(g=e[5].images,o=0;o<g.length;o+=1){const r=Te(e,g,o);b[o]?b[o].p(r,n):(b[o]=He(r),b[o].c(),b[o].m(t,null))}for(;o<b.length;o+=1)b[o].d(1);b.length=g.length}1&n&&i!==(i=e[5].main+"")&&w(r,i),N===(N=C(e))&&I?I.p(e,n):(I.d(1),I=N(e),I&&(I.c(),I.m(s.parentNode,s)))},d(e){e&&c(t),m(b,e),e&&c(n),e&&c(o),e&&c(a),I.d(e),e&&c(s)}}}function Ye(t){let n,o,r,a,s,i,g,w,N,y,I,_,v,k;function M(e,t){return e[1]-1==0?Ue:$e}let x=M(t),E=x(t),P=t[2]&&je(),S=t[0],O=[];for(let e=0;e<S.length;e+=1)O[e]=Be(Re(t,S,e));return{c(){n=h("h4"),o=h("input"),r=d("\r\n        Show combat details"),a=f(),s=h("p"),s.innerHTML="<br/>",i=f(),g=h("h4"),E.c(),w=f(),N=h("p"),N.innerHTML="<br/>",y=f(),P&&P.c(),I=f();for(let e=0;e<O.length;e+=1)O[e].c();_=p(),C(o,"type","checkbox")},m(e,c){u(e,n,c),l(n,o),o.checked=t[3],l(n,r),u(e,a,c),u(e,s,c),u(e,i,c),u(e,g,c),E.m(g,null),u(e,w,c),u(e,N,c),u(e,y,c),P&&P.m(e,c),u(e,I,c);for(let t=0;t<O.length;t+=1)O[t]&&O[t].m(e,c);u(e,_,c),v||(k=b(o,"change",t[4]),v=!0)},p(e,[t]){if(8&t&&(o.checked=e[3]),x===(x=M(e))&&E?E.p(e,t):(E.d(1),E=x(e),E&&(E.c(),E.m(g,null))),e[2]?P||(P=je(),P.c(),P.m(I.parentNode,I)):P&&(P.d(1),P=null),9&t){let n;for(S=e[0],n=0;n<S.length;n+=1){const o=Re(e,S,n);O[n]?O[n].p(o,t):(O[n]=Be(o),O[n].c(),O[n].m(_.parentNode,_))}for(;n<O.length;n+=1)O[n].d(1);O.length=S.length}},i:e,o:e,d(e){e&&c(n),e&&c(a),e&&c(s),e&&c(i),e&&c(g),E.d(),e&&c(w),e&&c(N),e&&c(y),P&&P.d(e),e&&c(I),m(O,e),e&&c(_),v=!1,k()}}}function Qe(e,t,n){let{events:o}=t,{day:r}=t,{gapToggle:a}=t,s=!0;return e.$$set=e=>{"events"in e&&n(0,o=e.events),"day"in e&&n(1,r=e.day),"gapToggle"in e&&n(2,a=e.gapToggle)},[o,r,a,s,function(){s=this.checked,n(3,s)}]}class Ve extends K{constructor(e){super(),q(this,e,Qe,Ye,a,{events:0,day:1,gapToggle:2})}}function Je(e,t,n){const o=e.slice();return o[4]=t[n],o}function Ze(e,t,n){const o=e.slice();return o[7]=t[n],o}function Xe(e,t,n){const o=e.slice();return o[10]=t[n],o[19]=n,o}function et(e,t,n){const o=e.slice();return o[20]=t[n],o}function tt(e,t,n){const o=e.slice();return o[7]=t[n],o}function nt(e,t,n){const o=e.slice();return o[10]=t[n],o}function ot(e,t,n){const o=e.slice();return o[13]=t[n],o}function rt(e){let t,n=e[4],o=[];for(let t=0;t<n.length;t+=1)o[t]=dt(Ze(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=p()},m(e,n){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,n);u(e,t,n)},p(e,r){if(9&r){let a;for(n=e[4],a=0;a<n.length;a+=1){const s=Ze(e,n,a);o[a]?o[a].p(s,r):(o[a]=dt(s),o[a].c(),o[a].m(t.parentNode,t))}for(;a<o.length;a+=1)o[a].d(1);o.length=n.length}},d(e){m(o,e),e&&c(t)}}}function at(e){let t,n,o=e[4],r=[];for(let t=0;t<o.length;t+=1)r[t]=Et(tt(e,o,t));return{c(){t=h("div");for(let e=0;e<r.length;e+=1)r[e].c();n=f(),C(t,"class","six-block")},m(e,o){u(e,t,o);for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,null);l(t,n)},p(e,a){if(15&a){let s;for(o=e[4],s=0;s<o.length;s+=1){const i=tt(e,o,s);r[s]?r[s].p(i,a):(r[s]=Et(i),r[s].c(),r[s].m(t,n))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(e){e&&c(t),m(r,e)}}}function st(e){let t,n;return{c(){t=h("img"),g(t.src,n=e[20])||C(t,"src",n),C(t,"alt","img error"),C(t,"class","create-pic")},m(e,n){u(e,t,n)},p(e,o){1&o&&!g(t.src,n=e[20])&&C(t,"src",n)},d(e){e&&c(t)}}}function it(e){let t;return{c(){t=h("p"),t.textContent="WINNER!",y(t,"margin","1px"),y(t,"color","yellow")},m(e,n){u(e,t,n)},d(e){e&&c(t)}}}function gt(e){let t,n,o,r,a=e[7].getItems(),s=[];for(let t=0;t<a.length;t+=1)s[t]=ht(Xe(e,a,t));return{c(){t=h("div"),n=h("span"),n.textContent="Items:",o=f();for(let e=0;e<s.length;e+=1)s[e].c();r=f()},m(e,a){u(e,t,a),l(t,n),l(t,o);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,null);l(t,r)},p(e,n){if(1&n){let o;for(a=e[7].getItems(),o=0;o<a.length;o+=1){const i=Xe(e,a,o);s[o]?s[o].p(i,n):(s[o]=ht(i),s[o].c(),s[o].m(t,r))}for(;o<s.length;o+=1)s[o].d(1);s.length=a.length}},d(e){e&&c(t),m(s,e)}}}function lt(e){let t,n,o,r,a,s=e[7].getItems()[0].getName()+"",i=e[7].getItems()[1].getName()+"";return{c(){t=h("span"),n=d("Items: "),o=d(s),r=d(" and "),a=d(i)},m(e,s){u(e,t,s),l(t,n),l(t,o),l(t,r),l(t,a)},p(e,t){1&t&&s!==(s=e[7].getItems()[0].getName()+"")&&w(o,s),1&t&&i!==(i=e[7].getItems()[1].getName()+"")&&w(a,i)},d(e){e&&c(t)}}}function ut(e){let t,n,o,r=e[7].getItems()[0].getName()+"";return{c(){t=h("span"),n=d("Items: "),o=d(r)},m(e,r){u(e,t,r),l(t,n),l(t,o)},p(e,t){1&t&&r!==(r=e[7].getItems()[0].getName()+"")&&w(o,r)},d(e){e&&c(t)}}}function ct(e){let t,n,o,r=e[10].getName()+"";return{c(){t=h("span"),n=d(r),o=d(",")},m(e,r){u(e,t,r),l(t,n),l(t,o)},p(e,t){1&t&&r!==(r=e[10].getName()+"")&&w(n,r)},d(e){e&&c(t)}}}function mt(e){let t,n,o,r=e[10].getName()+"";return{c(){t=h("span"),n=d("and "),o=d(r)},m(e,r){u(e,t,r),l(t,n),l(t,o)},p(e,t){1&t&&r!==(r=e[10].getName()+"")&&w(o,r)},d(e){e&&c(t)}}}function ht(e){let t,n;function o(e,n){return 1&n&&(t=null),null==t&&(t=!(e[19]!=e[7].getItems().length-1)),t?mt:ct}let r=o(e,-1),a=r(e);return{c(){a.c(),n=p()},m(e,t){a.m(e,t),u(e,n,t)},p(e,t){r===(r=o(e,t))&&a?a.p(e,t):(a.d(1),a=r(e),a&&(a.c(),a.m(n.parentNode,n)))},d(e){a.d(e),e&&c(n)}}}function dt(e){let t,n,o,r,a,s,i,g,b,C,N,I=e[7].getName()+"",_=e[7].getImage(),v=[];for(let t=0;t<_.length;t+=1)v[t]=st(et(e,_,t));let k=e[3].length>0&&it();function M(e,t){return 1&t&&(g=null),1&t&&(b=null),1&t&&(C=null),null==g&&(g=!(1!=e[7].getItems().length)),g?ut:(null==b&&(b=!(2!=e[7].getItems().length)),b?lt:(null==C&&(C=!!(e[7].getItems().length>2)),C?gt:void 0))}let x=M(e,-1),E=x&&x(e);return{c(){t=h("div");for(let e=0;e<v.length;e+=1)v[e].c();n=f(),o=h("p"),r=d(I),a=d(" are a group"),s=f(),k&&k.c(),i=f(),E&&E.c(),N=p(),y(t,"margin","auto"),y(o,"margin","10px")},m(e,g){u(e,t,g);for(let e=0;e<v.length;e+=1)v[e]&&v[e].m(t,null);u(e,n,g),u(e,o,g),l(o,r),l(o,a),u(e,s,g),k&&k.m(e,g),u(e,i,g),E&&E.m(e,g),u(e,N,g)},p(e,n){if(1&n){let o;for(_=e[7].getImage(),o=0;o<_.length;o+=1){const r=et(e,_,o);v[o]?v[o].p(r,n):(v[o]=st(r),v[o].c(),v[o].m(t,null))}for(;o<v.length;o+=1)v[o].d(1);v.length=_.length}1&n&&I!==(I=e[7].getName()+"")&&w(r,I),e[3].length>0?k||(k=it(),k.c(),k.m(i.parentNode,i)):k&&(k.d(1),k=null),x===(x=M(e,n))&&E?E.p(e,n):(E&&E.d(1),E=x&&x(e),E&&(E.c(),E.m(N.parentNode,N)))},d(e){e&&c(t),m(v,e),e&&c(n),e&&c(o),e&&c(s),k&&k.d(e),e&&c(i),E&&E.d(e),e&&c(N)}}}function ft(e){let t,n,o,r,a,s,i,g,p,b,N,I,_,v,k,M,x,E,P,S=e[7].getName()+"",O=e[3].length>0&&e[7].getCond()!=re.DEAD&&e[2].length==e[1],D=e[7].getKills()+"",R="fists"!=e[7].getWeapon().getName()||e[7].getConsumWeps().length>0,A=e[7].getItems().length>0;function W(e,t){return 1&t&&(n=null),null==n&&(n=!(e[7].getCond()!=re.DEAD)),n?bt:pt}let T=W(e,-1),$=T(e),U=O&&Ct();function j(e,t){return 1&t&&(I=null),1&t&&(_=null),1&t&&(v=null),1&t&&(k=null),1&t&&(M=null),null==I&&(I=!(e[7].getCond()!=re.HEALTHY)),I?_t:(null==_&&(_=!(e[7].getCond()!=re.WOUND_LOW)),_?It:(null==v&&(v=!(e[7].getCond()!=re.WOUND_MEDIUM)),v?yt:(null==k&&(k=!(e[7].getCond()!=re.WOUND_HIGH)),k?Nt:(null==M&&(M=!(e[7].getCond()!=re.DEAD)),M?wt:void 0))))}let H=j(e,-1),L=H&&H(e),F=R&&vt(e),z=e[7].getConsumWeps(),G=[];for(let t=0;t<z.length;t+=1)G[t]=kt(ot(e,z,t));let q=A&&Mt(e);return{c(){t=h("div"),$.c(),o=f(),r=h("p"),a=d(S),s=f(),U&&U.c(),i=f(),g=h("p"),p=d(D),b=d(" kills"),N=f(),L&&L.c(),x=f(),F&&F.c(),E=f();for(let e=0;e<G.length;e+=1)G[e].c();P=f(),q&&q.c(),y(r,"margin","1px"),y(g,"margin","1px"),C(t,"class","cont-info-block")},m(e,n){u(e,t,n),$.m(t,null),l(t,o),l(t,r),l(r,a),l(t,s),U&&U.m(t,null),l(t,i),l(t,g),l(g,p),l(g,b),l(t,N),L&&L.m(t,null),l(t,x),F&&F.m(t,null),l(t,E);for(let e=0;e<G.length;e+=1)G[e]&&G[e].m(t,null);l(t,P),q&&q.m(t,null)},p(e,n){if(T===(T=W(e,n))&&$?$.p(e,n):($.d(1),$=T(e),$&&($.c(),$.m(t,o))),1&n&&S!==(S=e[7].getName()+"")&&w(a,S),15&n&&(O=e[3].length>0&&e[7].getCond()!=re.DEAD&&e[2].length==e[1]),O?U||(U=Ct(),U.c(),U.m(t,i)):U&&(U.d(1),U=null),1&n&&D!==(D=e[7].getKills()+"")&&w(p,D),H===(H=j(e,n))&&L?L.p(e,n):(L&&L.d(1),L=H&&H(e),L&&(L.c(),L.m(t,x))),1&n&&(R="fists"!=e[7].getWeapon().getName()||e[7].getConsumWeps().length>0),R?F?F.p(e,n):(F=vt(e),F.c(),F.m(t,E)):F&&(F.d(1),F=null),1&n){let o;for(z=e[7].getConsumWeps(),o=0;o<z.length;o+=1){const r=ot(e,z,o);G[o]?G[o].p(r,n):(G[o]=kt(r),G[o].c(),G[o].m(t,P))}for(;o<G.length;o+=1)G[o].d(1);G.length=z.length}1&n&&(A=e[7].getItems().length>0),A?q?q.p(e,n):(q=Mt(e),q.c(),q.m(t,null)):q&&(q.d(1),q=null)},d(e){e&&c(t),$.d(),U&&U.d(),L&&L.d(),F&&F.d(),m(G,e),q&&q.d()}}}function pt(e){let t,n;return{c(){t=h("img"),g(t.src,n=e[7].getImage()[0])||C(t,"src",n),C(t,"alt","img error"),C(t,"class","create-pic")},m(e,n){u(e,t,n)},p(e,o){1&o&&!g(t.src,n=e[7].getImage()[0])&&C(t,"src",n)},d(e){e&&c(t)}}}function bt(e){let t,n;return{c(){t=h("img"),g(t.src,n=e[7].getImage()[0])||C(t,"src",n),C(t,"alt","img error"),C(t,"class","dead-pic")},m(e,n){u(e,t,n)},p(e,o){1&o&&!g(t.src,n=e[7].getImage()[0])&&C(t,"src",n)},d(e){e&&c(t)}}}function Ct(e){let t;return{c(){t=h("p"),t.textContent="WINNER!",y(t,"margin","1px"),y(t,"color","yellow")},m(e,n){u(e,t,n)},d(e){e&&c(t)}}}function wt(e){let t,n,o=e[7].getCondName()+"";return{c(){t=h("p"),n=d(o),y(t,"margin","1px"),y(t,"color","red")},m(e,o){u(e,t,o),l(t,n)},p(e,t){1&t&&o!==(o=e[7].getCondName()+"")&&w(n,o)},d(e){e&&c(t)}}}function Nt(e){let t,n,o=e[7].getCondName()+"";return{c(){t=h("p"),n=d(o),y(t,"margin","1px"),y(t,"color","orange")},m(e,o){u(e,t,o),l(t,n)},p(e,t){1&t&&o!==(o=e[7].getCondName()+"")&&w(n,o)},d(e){e&&c(t)}}}function yt(e){let t,n,o=e[7].getCondName()+"";return{c(){t=h("p"),n=d(o),y(t,"margin","1px"),y(t,"color","gold")},m(e,o){u(e,t,o),l(t,n)},p(e,t){1&t&&o!==(o=e[7].getCondName()+"")&&w(n,o)},d(e){e&&c(t)}}}function It(e){let t,n,o=e[7].getCondName()+"";return{c(){t=h("p"),n=d(o),y(t,"margin","1px"),y(t,"color","yellowgreen")},m(e,o){u(e,t,o),l(t,n)},p(e,t){1&t&&o!==(o=e[7].getCondName()+"")&&w(n,o)},d(e){e&&c(t)}}}function _t(e){let t,n,o=e[7].getCondName()+"";return{c(){t=h("p"),n=d(o),y(t,"margin","1px"),y(t,"color","green")},m(e,o){u(e,t,o),l(t,n)},p(e,t){1&t&&o!==(o=e[7].getCondName()+"")&&w(n,o)},d(e){e&&c(t)}}}function vt(e){let t,n,o,r,a=e[7].getWeapon().getName()+"";return{c(){t=h("p"),t.textContent="Weapon:",n=f(),o=h("p"),r=d(a),y(t,"margin","1px"),y(o,"margin","1px")},m(e,a){u(e,t,a),u(e,n,a),u(e,o,a),l(o,r)},p(e,t){1&t&&a!==(a=e[7].getWeapon().getName()+"")&&w(r,a)},d(e){e&&c(t),e&&c(n),e&&c(o)}}}function kt(e){let t,n,o,r,a,s=e[13].getName()+"",i="Uses: "+e[13].getUses();return{c(){t=h("p"),n=d(s),o=f(),r=h("p"),a=d(i),y(t,"margin","1px"),y(r,"margin","1px")},m(e,s){u(e,t,s),l(t,n),u(e,o,s),u(e,r,s),l(r,a)},p(e,t){1&t&&s!==(s=e[13].getName()+"")&&w(n,s),1&t&&i!==(i="Uses: "+e[13].getUses())&&w(a,i)},d(e){e&&c(t),e&&c(o),e&&c(r)}}}function Mt(e){let t,n,o,r=e[7].getItems(),a=[];for(let t=0;t<r.length;t+=1)a[t]=xt(nt(e,r,t));return{c(){t=h("p"),t.textContent="Items:",n=f();for(let e=0;e<a.length;e+=1)a[e].c();o=p(),y(t,"margin","1px")},m(e,r){u(e,t,r),u(e,n,r);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(e,r);u(e,o,r)},p(e,t){if(1&t){let n;for(r=e[7].getItems(),n=0;n<r.length;n+=1){const s=nt(e,r,n);a[n]?a[n].p(s,t):(a[n]=xt(s),a[n].c(),a[n].m(o.parentNode,o))}for(;n<a.length;n+=1)a[n].d(1);a.length=r.length}},d(e){e&&c(t),e&&c(n),m(a,e),e&&c(o)}}}function xt(e){let t,n,o=e[10].getName()+"";return{c(){t=h("p"),n=d(o),y(t,"margin","1px")},m(e,o){u(e,t,o),l(t,n)},p(e,t){1&t&&o!==(o=e[10].getName()+"")&&w(n,o)},d(e){e&&c(t)}}}function Et(e){let t,n=e[7]instanceof ae&&ft(e);return{c(){n&&n.c(),t=p()},m(e,o){n&&n.m(e,o),u(e,t,o)},p(e,o){e[7]instanceof ae?n?n.p(e,o):(n=ft(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&c(t)}}}function Pt(e){let t;function n(e,t){return e[4][0]instanceof ae?at:rt}let o=n(e),r=o(e);return{c(){r.c(),t=p()},m(e,n){r.m(e,n),u(e,t,n)},p(e,a){o===(o=n(e))&&r?r.p(e,a):(r.d(1),r=o(e),r&&(r.c(),r.m(t.parentNode,t)))},d(e){r.d(e),e&&c(t)}}}function St(t){let n,o=t[0],r=[];for(let e=0;e<o.length;e+=1)r[e]=Pt(Je(t,o,e));return{c(){n=h("div");for(let e=0;e<r.length;e+=1)r[e].c();C(n,"class","all-rows")},m(e,t){u(e,n,t);for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(n,null)},p(e,[t]){if(15&t){let a;for(o=e[0],a=0;a<o.length;a+=1){const s=Je(e,o,a);r[a]?r[a].p(s,t):(r[a]=Pt(s),r[a].c(),r[a].m(n,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=o.length}},i:e,o:e,d(e){e&&c(n),m(r,e)}}}function Ot(e,t,n){let{displayParties:o}=t,{numConts:r}=t,{parties:a}=t,{endstr:s}=t;return e.$$set=e=>{"displayParties"in e&&n(0,o=e.displayParties),"numConts"in e&&n(1,r=e.numConts),"parties"in e&&n(2,a=e.parties),"endstr"in e&&n(3,s=e.endstr)},[o,r,a,s]}class Dt extends K{constructor(e){super(),q(this,e,Ot,St,a,{displayParties:0,numConts:1,parties:2,endstr:3})}}function Rt(e,t,n){const o=e.slice();return o[29]=t[n],o}function At(e,t,n){const o=e.slice();return o[32]=t[n],o}function Wt(t){let n;return{c(){n=h("p"),n.textContent="Toggle Error"},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&c(n)}}}function Tt(t){let n,o,r,a,s,i,g,l,m,d,p;return{c(){n=h("p"),n.textContent="This website will simulate a battle royale, similar to the Hunger Games, with characters of your choice as the participants.",o=f(),r=h("p"),r.textContent="Enter the names, pronouns, and optionally images of the characters you want to participate",a=f(),s=h("p"),s.textContent="Then, click start game to begin the simulation",i=f(),g=h("p"),g.textContent="The submitted characters will then procedurally fight, explore, team up, and gather supplies",l=f(),m=h("button"),m.textContent="return"},m(e,c){u(e,n,c),u(e,o,c),u(e,r,c),u(e,a,c),u(e,s,c),u(e,i,c),u(e,g,c),u(e,l,c),u(e,m,c),d||(p=b(m,"click",t[16]),d=!0)},p:e,i:e,o:e,d(e){e&&c(n),e&&c(o),e&&c(r),e&&c(a),e&&c(s),e&&c(i),e&&c(g),e&&c(l),e&&c(m),d=!1,p()}}}function $t(e){let t,n,o,r,a,s,i,g;function l(t){e[23](t)}function m(t){e[24](t)}function h(t){e[25](t)}function d(t){e[26](t)}let b={};function C(e,t){return e[6].length>0?Ft:Lt}void 0!==e[8]&&(b.displayParties=e[8]),void 0!==e[6]&&(b.endstr=e[6]),void 0!==e[3]&&(b.numConts=e[3]),void 0!==e[2]&&(b.parties=e[2]),t=new Dt({props:b}),k.push(()=>H(t,"displayParties",l)),k.push(()=>H(t,"endstr",m)),k.push(()=>H(t,"numConts",h)),k.push(()=>H(t,"parties",d));let w=C(e),N=w(e);return{c(){L(t.$$.fragment),s=f(),N.c(),i=p()},m(e,n){F(t,e,n),u(e,s,n),N.m(e,n),u(e,i,n),g=!0},p(e,s){const g={};!n&&256&s[0]&&(n=!0,g.displayParties=e[8],O(()=>n=!1)),!o&&64&s[0]&&(o=!0,g.endstr=e[6],O(()=>o=!1)),!r&&8&s[0]&&(r=!0,g.numConts=e[3],O(()=>r=!1)),!a&&4&s[0]&&(a=!0,g.parties=e[2],O(()=>a=!1)),t.$set(g),w===(w=C(e))&&N?N.p(e,s):(N.d(1),N=w(e),N&&(N.c(),N.m(i.parentNode,i)))},i(e){g||(U(t.$$.fragment,e),g=!0)},o(e){j(t.$$.fragment,e),g=!1},d(e){z(t,e),e&&c(s),N.d(e),e&&c(i)}}}function Ut(t){let n,r,a,s,i,g,l,d,p=t[7],C=[];for(let e=0;e<p.length;e+=1)C[e]=zt(At(t,p,e));let w=t[6],N=[];for(let e=0;e<w.length;e+=1)N[e]=Gt(Rt(t,w,e));return{c(){n=h("div");for(let e=0;e<C.length;e+=1)C[e].c();r=f();for(let e=0;e<N.length;e+=1)N[e].c();a=f(),s=h("button"),s.textContent="new game",i=f(),g=h("button"),g.textContent="view results",y(n,"margin","auto")},m(e,o){u(e,n,o);for(let e=0;e<C.length;e+=1)C[e]&&C[e].m(n,null);u(e,r,o);for(let t=0;t<N.length;t+=1)N[t]&&N[t].m(e,o);u(e,a,o),u(e,s,o),u(e,i,o),u(e,g,o),l||(d=[b(s,"click",t[14]),b(g,"click",t[12])],l=!0)},p(e,t){if(128&t[0]){let o;for(p=e[7],o=0;o<p.length;o+=1){const r=At(e,p,o);C[o]?C[o].p(r,t):(C[o]=zt(r),C[o].c(),C[o].m(n,null))}for(;o<C.length;o+=1)C[o].d(1);C.length=p.length}if(64&t[0]){let n;for(w=e[6],n=0;n<w.length;n+=1){const o=Rt(e,w,n);N[n]?N[n].p(o,t):(N[n]=Gt(o),N[n].c(),N[n].m(a.parentNode,a))}for(;n<N.length;n+=1)N[n].d(1);N.length=w.length}},i:e,o:e,d(e){e&&c(n),m(C,e),e&&c(r),m(N,e),e&&c(a),e&&c(s),e&&c(i),e&&c(g),l=!1,o(d)}}}function jt(e){let t,n,r,a,s,i,g,l,m,d,p;function C(t){e[20](t)}function w(t){e[21](t)}function N(t){e[22](t)}let y={};return void 0!==e[4]&&(y.events=e[4]),void 0!==e[5]&&(y.day=e[5]),void 0!==e[9]&&(y.gapToggle=e[9]),t=new Ve({props:y}),k.push(()=>H(t,"events",C)),k.push(()=>H(t,"day",w)),k.push(()=>H(t,"gapToggle",N)),{c(){L(t.$$.fragment),s=f(),i=h("button"),i.textContent="next day",g=f(),l=h("button"),l.textContent="view contestants"},m(n,o){F(t,n,o),u(n,s,o),u(n,i,o),u(n,g,o),u(n,l,o),m=!0,d||(p=[b(i,"click",e[10]),b(l,"click",e[12])],d=!0)},p(e,o){const s={};!n&&16&o[0]&&(n=!0,s.events=e[4],O(()=>n=!1)),!r&&32&o[0]&&(r=!0,s.day=e[5],O(()=>r=!1)),!a&&512&o[0]&&(a=!0,s.gapToggle=e[9],O(()=>a=!1)),t.$set(s)},i(e){m||(U(t.$$.fragment,e),m=!0)},o(e){j(t.$$.fragment,e),m=!1},d(e){z(t,e),e&&c(s),e&&c(i),e&&c(g),e&&c(l),d=!1,o(p)}}}function Ht(e){let t,n,r,a,s,i,g,m,p,w,N,y,I,_,v,M=Kt;function x(t){e[18](t)}function E(t){e[19](t)}let P={};return void 0!==e[3]&&(P.numConts=e[3]),void 0!==e[1]&&(P.creationConts=e[1]),m=new De({props:P}),k.push(()=>H(m,"numConts",x)),k.push(()=>H(m,"creationConts",E)),{c(){t=f(),n=h("button"),n.textContent="About",r=f(),a=h("h4"),s=h("input"),i=d("\r\n\t\t\tDownshift Events"),g=f(),L(m.$$.fragment),N=f(),y=h("button"),y.textContent="Start Game!",C(s,"type","checkbox")},m(o,c){u(o,t,c),u(o,n,c),u(o,r,c),u(o,a,c),l(a,s),s.checked=e[9],l(a,i),u(o,g,c),F(m,o,c),u(o,N,c),u(o,y,c),I=!0,_||(v=[b(n,"click",e[15]),b(s,"change",e[17]),b(y,"click",e[11])],_=!0)},p(e,t){512&t[0]&&(s.checked=e[9]);const n={};!p&&8&t[0]&&(p=!0,n.numConts=e[3],O(()=>p=!1)),!w&&2&t[0]&&(w=!0,n.creationConts=e[1],O(()=>w=!1)),m.$set(n)},i(e){I||(U(M),U(m.$$.fragment,e),I=!0)},o(e){j(M),j(m.$$.fragment,e),I=!1},d(e){e&&c(t),e&&c(n),e&&c(r),e&&c(a),e&&c(g),z(m,e),e&&c(N),e&&c(y),_=!1,o(v)}}}function Lt(t){let n,o,r;return{c(){n=h("button"),n.textContent="return"},m(e,a){u(e,n,a),o||(r=b(n,"click",t[13]),o=!0)},p:e,d(e){e&&c(n),o=!1,r()}}}function Ft(t){let n,o,r;return{c(){n=h("button"),n.textContent="new game"},m(e,a){u(e,n,a),o||(r=b(n,"click",t[14]),o=!0)},p:e,d(e){e&&c(n),o=!1,r()}}}function zt(e){let t,n;return{c(){t=h("img"),g(t.src,n=e[32])||C(t,"src",n),C(t,"alt","img error"),C(t,"class","create-pic")},m(e,n){u(e,t,n)},p(e,o){128&o[0]&&!g(t.src,n=e[32])&&C(t,"src",n)},d(e){e&&c(t)}}}function Gt(e){let t,n,o=e[29]+"";return{c(){t=h("p"),n=d(o)},m(e,o){u(e,t,o),l(t,n)},p(e,t){64&t[0]&&o!==(o=e[29]+"")&&w(n,o)},d(e){e&&c(t)}}}function qt(e){let t,n,r,a,s,i;const g=[Ht,jt,Ut,$t,Tt,Wt],m=[];function d(e,t){return 0==e[0]?0:1==e[0]?1:2==e[0]?2:3==e[0]?3:4==e[0]?4:5}return a=d(e),s=m[a]=g[a](e),{c(){t=h("main"),n=h("h1"),n.textContent="Hunger Games Simulator: Revamped",r=f(),s.c()},m(e,o){u(e,t,o),l(t,n),l(t,r),m[a].m(t,null),i=!0},p(e,n){let r=a;a=d(e),a===r?m[a].p(e,n):($={r:0,c:[],p:$},j(m[r],1,1,()=>{m[r]=null}),$.r||o($.c),$=$.p,s=m[a],s?s.p(e,n):(s=m[a]=g[a](e),s.c()),U(s,1),s.m(t,null))},i(e){i||(U(s),i=!0)},o(e){j(s),i=!1},d(e){e&&c(t),m[a].d()}}}const Kt=!1;function Bt(e,t,n){let o,r=0,a=new Array,s=new Array,i=new Array,g=24,l=[],u=0,c=[],m=[],h=!1;for(let e=0;e<g;e++)a.push(new ae("","he","him","his","Default.png"));const d=()=>{i=Array.from(s);for(let e=0;e<g;e++){let t=i[e];t instanceof ae&&(t.getCond()==re.DEAD||t.getIsInGroup())&&(i.splice(e,1),e--)}if(0==i.length&&(c.push("All contestants are dead! No winner!"),n(0,r=2)),1==i.length){if(i[0]instanceof ae)c.push(i[0].getName()+" is the winner with "+i[0].getKills()+" kills!");else{c.push(i[0].getName()+" are the winners!");for(let e=0;e<i[0].getConts().length;e++)c.push(i[0].getConts()[e].getName()+" got "+i[0].getConts()[e].getKills()+" kills")}n(7,m=i[0].getImage()),n(0,r=2)}else n(4,l=function(e,t,n,o){let r=[];if(2==t.length&&(ye--,ye<=0)){let e=Math.floor(Math.random()*be.length);return r.push(be[e](t[0],t[1])),r}for(let e=0;e<t.length;e++){let n,o,a,s;if(0!=t[e].getItems().length&&t.length>=2&&Math.random()<.1){do{s=Math.floor(Math.random()*t.length)}while(s==e);r.push(be[Math.floor(Math.random()*be.length)](t[e],t[s])),t.splice(Math.max(s,e),1),t.splice(Math.min(s,e),1),e--,s<e&&e--}else for(let i=0;i<t[e].getItems().length;i++){if(n=t[e].getItems()[i],o=n.getEvent().length,2==o)a=n.getEvent()(t[e],n);else{if(!(3==o&&t.length>=2)){r.push({images:[],main:"Error: item "+n.getName()+" has invalid number of arguments. or maybe theres too few contestants",combat:[]});break}do{s=Math.floor(Math.random()*t.length)}while(s==e);a=n.getEvent()(t[e],t[s],n)}if("false"!=a.main){0==n.getUses()&&t[e].getItems().splice(i,1),2==o?(r.push(a),t.splice(e,1),e--):3==o?(r.push(a),t.splice(Math.max(s,e),1),t.splice(Math.min(s,e),1),e--,s<e&&e--):r.push({images:[],main:"Error: invalid number of arguments on item "+n.getName(),combat:[]});break}}}for(;t.length>0;){let a,s,i,g,l,u=0;if(a=Math.random(),0!=o)if(t.length>=3&&a<.33&&t.length>=n/2)if(a=Math.random(),a<.5){do{i=Math.floor(Math.random()*t.length),g=Math.floor(Math.random()*t.length)}while(i==g);e.push(de([t[i],t[g]],fe)),r.push({images:t[i].getImage().concat(t[g].getImage()),main:e[e.length-1].getString(),combat:[]}),t[i].setIsInGroup(!0),t[g].setIsInGroup(!0),t.splice(Math.max(i,g),1),t.splice(Math.min(i,g),1)}else{do{i=Math.floor(Math.random()*t.length),g=Math.floor(Math.random()*t.length),l=Math.floor(Math.random()*t.length)}while(i==g||i==l||g==l);let n=[i,g,l];for(e.push(de([t[i],t[g],t[l]],fe)),r.push({images:t[i].getImage().concat(t[g].getImage().concat(t[l].getImage())),main:e[e.length-1].getString(),combat:[]});n.length>0;)t[Math.max(...n)].setIsInGroup(!0),t.splice(Math.max(...n),1),n.splice(n.indexOf(Math.max(...n)),1)}else if(1==t.length||a<.5)i=Math.floor(Math.random()*t.length),t[i]instanceof ae?(s=Math.floor(Math.random()*me.length),r.push(me[s](t[i])),t.splice(i,1)):(a<.1?(s=Math.floor(Math.random()*pe.length),r.push(pe[s](t[i]))):(s=Math.floor(Math.random()*he.length),r.push(he[s](t[i]))),t.splice(i,1));else{s=Math.floor(Math.random()*be.length);do{i=Math.floor(Math.random()*t.length),g=Math.floor(Math.random()*t.length)}while(i==g);r.push(be[s](t[i],t[g])),t.splice(Math.max(i,g),1),t.splice(Math.min(i,g),1)}else if(1==t.length||Math.random()<.66)i=Math.floor(Math.random()*t.length),s=Math.floor(Math.random()*Ce.length),r.push(Ce[s](t[i])),t.splice(i,1);else{s=Math.floor(Math.random()*we.length);do{i=Math.floor(Math.random()*t.length),g=Math.floor(Math.random()*t.length)}while(i==g);Math.random()<.2?(e.push(de([t[i],t[g]],Ne)),r.push({images:t[i].getImage().concat(t[g].getImage()),main:e[e.length-1].getString(),combat:[]}),t[i].setIsInGroup(!0),t[g].setIsInGroup(!0),t.splice(Math.max(i,g),1),t.splice(Math.min(i,g),1)):(r.push(we[s](t[i],t[g])),t.splice(Math.max(i,g),1),t.splice(Math.min(i,g),1))}if(u++,u>1e3){console.log("Error: infinite loop in event selection"),r=[{images:[],main:"Error: infinite loop in event selection. The game is now unstable!",combat:[]}].concat(r);break}}for(let t=n;t<e.length;t++){let n=e[t];if(n instanceof X)if(n.purge(),0==n.getConts().length||n.getIsInGroup())e.splice(t,1),t--;else if(1==n.getConts().length){for(n.getConts()[0].setIsInGroup(!1);n.getItems().length>0&&n.getConts()[0].getItems().length<3;)n.getConts()[0].getItems().push(n.getItems()[0]),n.getItems().splice(0,1);e.splice(t,1),t--}}for(let t=0;t<n;t++)if(e[t].getCond()==re.DEAD){let n=e[t];for(n.loseWeapon();n.getItems().length>0;)n.getItems().splice(0,1);if(n instanceof ae)for(;n.getConsumWeps().length>0;)n.loseConsumWep(0)}return r}(s,i,g,u)),n(5,u++,u);document.documentElement.scrollTop=0};return[r,a,s,g,l,u,c,m,o,h,d,()=>{n(2,s=[]);for(let e=0;e<g;e++)""==a[e].getName()&&a[e].setName("Contestant "+(e+1).toString()),s.push(a[e]);n(0,r=1),d()},()=>{n(8,o=[]);let e=[];for(let t=0;t<g;t++)e.push(s[t]),(t+1)%6==0&&(o.push(e),e=[]);e.length>0&&o.push(e);for(let e=g;e<s.length;e++)o.push([s[e]]);n(0,r=3)},()=>{n(0,r=1)},()=>{n(0,r=0),n(5,u=0),n(6,c=[]);for(let e=0;e<g;e++){let t=s[e];if(t instanceof ae){for(t.upCond(99),t.loseWeapon();t.getItems().length>0;)t.loseItem(0);t.setKills(0),t.setIsInGroup(!1)}}for(;s.length>g;)s.pop();n(1,a=[]);for(let e=0;e<s.length;e++){let t=s[e];t instanceof ae&&a.push(t)}},()=>{n(0,r=4)},()=>{n(0,r=0)},function(){h=this.checked,n(9,h)},function(e){g=e,n(3,g)},function(e){a=e,n(1,a)},function(e){l=e,n(4,l)},function(e){u=e,n(5,u)},function(e){h=e,n(9,h)},function(e){o=e,n(8,o)},function(e){c=e,n(6,c)},function(e){g=e,n(3,g)},function(e){s=e,n(2,s)}]}return new class extends K{constructor(e){super(),q(this,e,Bt,qt,a,{},null,[-1,-1])}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
